(this["webpackJsonpkalendario-spa"]=this["webpackJsonpkalendario-spa"]||[]).push([[0],{114:function(e,t,n){e.exports={lineCell:"schedule-formik-input_lineCell__24pMl",borderLeft:"schedule-formik-input_borderLeft__2g7PF",frameBox:"schedule-formik-input_frameBox__OBPb2",hourBox:"schedule-formik-input_hourBox__3Fz2z"}},219:function(e,t,n){e.exports={dateSelectorContainer:"scheduling-date-selector_dateSelectorContainer__wZoaJ"}},223:function(e,t,n){e.exports={fixedHeaders:"k-table_fixedHeaders__1Sju7"}},225:function(e,t,n){e.exports={btnOverlay:"editable-avatar-img_btnOverlay__2BptH"}},233:function(e,t,n){},391:function(e,t,n){"use strict";n.r(t);var r,c=n(87),a=n(1),i=n.n(a),s=n(21),o=n.n(s),u=(n(233),n(207)),l=n(10),j=n(9),d=n(25);!function(e){e.LOGIN_REQUEST="AUTH/LOGIN_REQUEST",e.LOGIN_REQUEST_SUCCESS="AUTH/LOGIN_REQUEST_SUCCESS",e.LOGIN_REQUEST_FAIL="AUTH/LOGIN_REQUEST_FAIL",e.REGISTER_REQUEST="AUTH/REGISTER_REQUEST",e.REGISTER_REQUEST_SUCCESS="AUTH/REGISTER_REQUEST_SUCCESS",e.REGISTER_REQUEST_FAIL="AUTH/REGISTER_REQUEST_FAIL",e.FACEBOOK_LOGIN_REQUEST="AUTH/FACEBOOK_LOGIN_REQUEST",e.FACEBOOK_LOGIN_REQUEST_SUCCESS="AUTH/FACEBOOK_LOGIN_REQUEST_SUCCESS",e.FACEBOOK_LOGIN_REQUEST_FAIL="AUTH/FACEBOOK_LOGIN_REQUEST_FAIL",e.SET_USER="AUTH/SET_USER",e.SET_LOADING_USER="AUTH/SET_LOADING_USER"}(r||(r={}));var b=n(17),O=function(e){return Object(b.action)(r.SET_USER,e)},m=Object(d.b)(r.SET_LOADING_USER),p=n(3);function f(e){localStorage.setItem("token",e)}function h(){return localStorage.getItem("token")}function x(){localStorage.removeItem("token"),localStorage.removeItem("refreshToken")}function E(){return!!h()}var v={apiError:null,loggedIn:E(),loadingUser:!1,user:null},S=n(11),g=n.n(S),C=n(6),y=n(20),T=n.n(y);function _(e){return T.a.utc(e)}function N(e){return e.toISOString()}function A(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={};return Object.keys(e).forEach((function(n){e[n]instanceof y?t[n]=N(e[n]):t[n]=e[n]})),t}var R=n(208),I=n.n(R),U=n(209),k=I.a.create({}),w=k;var M=function(e,t){return{get:function(n){var r=A(n);return w.get(e,{params:r}).then((function(e){return e.data.results=e.data.results.map((function(e){return t(e)})),e.data}))},post:function(n){return w.post(e,n).then((function(e){return t(e.data)}))},detail:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return w.get(e+n+"/",{params:Object(p.a)({},r)}).then((function(e){return t(e.data)}))},patch:function(n,r){return w.patch(e+n+"/",r).then((function(e){return t(e.data)}))},put:function(n,r){return w.put(e+n+"/",r).then((function(e){return t(e.data)}))},delete:function(t){return w.delete(e+t+"/")}}};function D(e){return e?Object(p.a)({},e):{id:0,firstName:"",lastName:"",email:"",phone:""}}function L(e){return e<10?"0"+e.toString():e.toString()}var P=function(e){var t={hour:0,minute:0};return t.hour=+e.substr(0,2),t.minute=+e.substr(3,2),t},F=function(e){return L(e.hour)+":"+L(e.minute)},Q=function(e){return L(e.hour)+":"+L(e.minute)+":00"};function H(e){var t=(null===e||void 0===e?void 0:e.frames)?e.frames.map((function(e){return function(e,t){var n=P(e),r=P(t);return{start:n,end:r,name:F(n)+" - "+F(r)}}(e.start,e.end)})):[];return{frames:t,name:t.length>0?t.map((function(e){return e.name})).reduce((function(e,t){return"".concat(e," ").concat(t)})):""}}function G(e){return Object(p.a)(Object(p.a)({},e),{},{permissionModel:te.schedule,mon:H(e.mon),tue:H(e.tue),wed:H(e.wed),thu:H(e.thu),fri:H(e.fri),sat:H(e.sat),sun:H(e.sun),shifts:["mon","tue","wed","thu","fri","sat","sun"]})}function B(e){return e?{frames:e.frames.map((function(e){return{start:Q(e.start),end:Q(e.end)}}))}:null}var q="https://res.cloudinary.com/gchahm/";function z(e){return e?Object(p.a)(Object(p.a)(Object(p.a)({},e),D(e)),{},{permissionModel:te.employee,private:!!e.private,photoUrl:e.profileImg?q+e.profileImg:"img/default-avatar.jpg"}):Object(p.a)(Object(p.a)({},D()),{},{private:!1,photoUrl:null,instagram:"",schedule:0,services:[]})}function V(e){return e?Object(p.a)(Object(p.a)(Object(p.a)({},e),D(e)),{},{schedule:G(e.schedule),permissionModel:te.employee,private:!!e.private,photoUrl:e.profileImg?q+e.profileImg:"img/default-avatar.jpg"}):Object(p.a)(Object(p.a)({},D()),{},{private:!1,photoUrl:null,instagram:"",schedule:0,services:[]})}var Y="admin/employees/",W=Object(p.a)(Object(p.a)({},M(Y,z)),{},{uploadProfilePicture:function(e,t){var n=new FormData;return n.append("image",t),w.post(Y+e+"/photo/",n).then((function(e){return e.data}))}}),K=n(14),J=K.e().shape({firstName:K.g().required("First Name is required"),lastName:K.g().required("Last Name is required"),email:K.g().required().email(),phone:K.g().required(),services:K.a(K.d()).required().min(1)});function X(e){return Object(p.a)(Object(p.a)({},e),{},{permissionModel:te.user,employee:e.employee?V(e.employee):null,company:e.owner?Object(p.a)({},e.owner):null,verified:!!e.verified})}var Z,$="core/users/",ee=Object(p.a)(Object(p.a)({},M($,X)),{},{changePassword:function(e,t){return w.patch($+e+"/changePassword/",t).then((function(e){return X(e.data)}))}});!function(e){e.employee="employee",e.group="groupprofile",e.user="user",e.config="config",e.service="service",e.shift="shift",e.schedule="schedule",e.customer="customer",e.appointment="appointment",e.company="company"}(Z||(Z={}));var te,ne,re=K.e().shape({firstName:K.g().required(),lastName:K.g().required(),email:K.g().required().email()}),ce=K.e().shape({password1:K.g().required(),password2:K.g().required().oneOf([K.f("password1"),null],"Passwords must match"),userPassword:K.g().required()}),ae={verifyEmail:function(e){return w.post("auth/registration/verify-email/",{key:e})},login:function(e){return w.post("auth/login/",e).then(ie)},register:function(e){return w.post("auth/registration/",e).then(ie)},authenticateFacebook:function(e){return w.post("auth/facebook/",{accessToken:e}).then(ie)},logout:function(){return w.post("auth/logout/",{}).then(x)},whoAmI:function(){return E()?w.get("auth/user/").then((function(e){return X(e.data)})).catch((function(e){return x(),Promise.resolve(null)})):Promise.resolve(null)},refreshAccessToken:function(e){var t=localStorage.getItem("refreshToken");return e.post("auth/token/refresh/",{refresh:t}).then((function(e){var t=e.data;return f(t.access),t.access}))}},ie=function(e){var t,n=e.data;return f(n.accessToken),t=n.refreshToken,localStorage.setItem("refreshToken",t),X(n.user)};function se(e,t,n){var r=function(e){switch(e){case te.user:case te.groupprofile:return"core";default:return"scheduling"}}(n);return e.permissions.includes("".concat(r,".").concat(t,"_").concat(n))}!function(e){e.groupprofile="groupprofile",e.user="user",e.appointment="appointment",e.company="company",e.config="config",e.customer="customer",e.employee="employee",e.historicalappointment="historicalappointment",e.person="person",e.photo="photo",e.request="request",e.schedule="schedule",e.schedulingpanel="schedulingpanel",e.service="service",e.servicecategory="servicecategory",e.shift="shift",e.timeframe="timeframe"}(te||(te={})),function(e){e.add="add",e.change="change",e.delete="delete",e.view="view"}(ne||(ne={}));var oe=g.a.mark(de),ue=g.a.mark(be),le=g.a.mark(Oe),je=g.a.mark(me);function de(e){var t;return g.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(C.b)(ae.login,e.payload);case 3:return t=n.sent,n.next=6,Object(C.d)(Object(b.action)(r.LOGIN_REQUEST_SUCCESS));case 6:return n.next=8,Object(C.d)(O(t));case 8:n.next=14;break;case 10:return n.prev=10,n.t0=n.catch(0),n.next=14,Object(C.d)((c=n.t0,Object(b.action)(r.LOGIN_REQUEST_FAIL,c)));case 14:case"end":return n.stop()}var c}),oe,null,[[0,10]])}function be(e){var t;return g.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(C.b)(ae.register,e.payload);case 3:return t=n.sent,n.next=6,Object(C.d)(Object(b.action)(r.REGISTER_REQUEST_SUCCESS));case 6:return n.next=8,Object(C.d)(O(t));case 8:n.next=14;break;case 10:return n.prev=10,n.t0=n.catch(0),n.next=14,Object(C.d)((c=n.t0,Object(b.action)(r.REGISTER_REQUEST_FAIL,c)));case 14:case"end":return n.stop()}var c}),ue,null,[[0,10]])}function Oe(e){var t;return g.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(C.b)(ae.authenticateFacebook,e.payload);case 3:return t=n.sent,n.next=6,Object(C.d)(Object(b.action)(r.FACEBOOK_LOGIN_REQUEST_SUCCESS));case 6:return n.next=8,Object(C.d)(O(t));case 8:n.next=14;break;case 10:return n.prev=10,n.t0=n.catch(0),n.next=14,Object(C.d)((c=n.t0,Object(b.action)(r.FACEBOOK_LOGIN_REQUEST_FAIL,c)));case 14:case"end":return n.stop()}var c}),le,null,[[0,10]])}function me(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(C.f)(r.LOGIN_REQUEST,de);case 2:return e.next=4,Object(C.f)(r.REGISTER_REQUEST,be);case 4:return e.next=6,Object(C.f)(r.FACEBOOK_LOGIN_REQUEST,Oe);case 6:case"end":return e.stop()}}),je)}var pe,fe=n(123),he=function(e){return e.auth.loggedIn},xe=function(e){return e.auth.apiError},Ee=function(e){return e.auth.user},ve=Object(fe.a)(Ee,(function(e){return null===e||void 0===e?void 0:e.employee})),Se=function(e){return e.auth.loadingUser};!function(e){e.COMPANY_DETAILS_REQUEST="COMPANIES/COMPANY_DETAILS_REQUEST",e.COMPANY_DETAILS_REQUEST_SUCCESS="COMPANIES/COMPANY_DETAILS_REQUEST_SUCCESS",e.COMPANY_DETAILS_REQUEST_FAIL="COMPANIES/COMPANY_DETAILS_REQUEST_FAIL",e.SET_SELECTED_SERVICE_ID="COMPANIES/SET_SELECTED_SERVICE_ID",e.SLOTS_REQUEST="COMPANIES/SLOTS_REQUEST",e.SLOTS_REQUEST_SUCCESS="COMPANIES/SLOTS_REQUEST_SUCCESS",e.SLOTS_REQUEST_FAIL="COMPANIES/SLOTS_REQUEST_FAIL",e.SET_SELECTED_SLOT_ID="COMPANIES/SET_SELECTED_SLOT_ID",e.BOOK_SLOT_REQUEST="COMPANIES/BOOK_SLOT_REQUEST",e.BOOK_SLOT_REQUEST_SUCCESS="COMPANIES/BOOK_SLOT_REQUEST_SUCCESS",e.BOOK_SLOT_REQUEST_FAIL="COMPANIES/BOOK_SLOT_REQUEST_FAIL",e.SET_SELECTED_DATE="COMPANIES/SET_SELECTED_DATE",e.SELECTED_DATE_ADD_ONE="COMPANIES/SELECTED_DATE_ADD_ONE",e.SELECTED_DATE_SUBTRACT_ONE="COMPANIES/SELECTED_DATE_SUBTRACT_ONE",e.SELECTED_DATE_TODAY="COMPANIES/SELECTED_DATE_TODAY",e.CURRENT_CART_REQUEST="COMPANIES/CURRENT_CART_REQUEST",e.CURRENT_CART_REQUEST_SUCCESS="COMPANIES/CURRENT_CART_REQUEST_SUCCESS",e.CURRENT_CART_REQUEST_FAIL="COMPANIES/CURRENT_CART_REQUEST_FAIL",e.DELETE_APPOINTMENT_REQUEST="COMPANIES/DELETE_APPOINTMENT_REQUEST",e.DELETE_APPOINTMENT_REQUEST_SUCCESS="COMPANIES/DELETE_APPOINTMENT_REQUEST_SUCCESS",e.DELETE_APPOINTMENT_REQUEST_FAIL="COMPANIES/DELETE_APPOINTMENT_REQUEST_FAIL",e.SET_CURRENT_REQUEST="COMPANIES/SET_CURRENT_REQUEST",e.ADD_NOTES_REQUEST="COMPANIES/ADD_NOTES_REQUEST",e.ADD_NOTES_REQUEST_SUCCESS="COMPANIES/ADD_NOTES_REQUEST_SUCCESS",e.ADD_NOTES_REQUEST_FAIL="COMPANIES/ADD_NOTES_REQUEST_FAIL",e.CONFIRM_CART_REQUEST="COMPANIES/CONFIRM_CART_REQUEST",e.CONFIRM_CART_REQUEST_SUCCESS="COMPANIES/CONFIRM_CART_REQUEST_SUCCESS",e.CONFIRM_CART_REQUEST_FAIL="COMPANIES/CONFIRM_CART_REQUEST_FAIL"}(pe||(pe={}));var ge,Ce=function(e){return Object(b.action)(pe.COMPANY_DETAILS_REQUEST_SUCCESS,e)},ye=function(e){var t={};return e.forEach((function(e){t[e.date]?t[e.date].push(e):t[e.date]=[e]})),Object(b.action)(pe.SLOTS_REQUEST_SUCCESS,t)},Te=function(e){return Object(b.action)(pe.SET_SELECTED_DATE,N(e))},_e=function(e){return Object(b.action)(pe.SET_CURRENT_REQUEST,e)},Ne={apiError:null,company:null,companyRequestCompleted:!1,ownerId:3,selectedServiceId:null,slots:{},selectedSlotId:null,selectedDate:T.a.utc().startOf("day").toISOString(),currentRequest:null,currentRequestCompleted:!1},Ae=function(e){return e.companies.ownerId},Re=function(e){return e.companies.company},Ie=function(e){return e.companies.slots},Ue=function(e){return e.companies.selectedSlotId},ke=function(e){return T.a.utc(e.companies.selectedDate)},we=function(e){return e.companies.currentRequest},Me=function(e){return e.companies.selectedServiceId},De=Object(fe.a)([Re],(function(e){return null===e||void 0===e?void 0:e.services})),Le=Object(fe.a)([De,Me],(function(e,t){return e&&e.find((function(e){return e.id===t}))})),Pe=Object(fe.a)([function(e){return e.companies.companyRequestCompleted},function(e){return e.companies.currentRequestCompleted}],(function(e,t){return e&&t})),Fe=Object(fe.a)([we],(function(e){return!!e&&0===e.itemsCount})),Qe=Object(fe.a)([Fe,Pe],(function(e,t){return t&&e})),He=n(67);function Ge(e){return Object(p.a)(Object(p.a)({},D(e)),{},{warning:e.warning,permissionModel:te.customer})}!function(e){e[e.EmployeeEvent=0]="EmployeeEvent",e[e.CustomerAppointment=1]="CustomerAppointment",e[e.CustomerRequestAppointment=2]="CustomerRequestAppointment",e[e.CustomerEvent=3]="CustomerEvent"}(ge||(ge={}));var Be=Object(p.a)({},M("admin/customers/",Ge));function qe(e){return Object(p.a)(Object(p.a)({},e),{},{permissionModel:te.service,duration:P(e.duration)})}function ze(e){return Object(p.a)({},e)}var Ve=Object(p.a)({},M("admin/services/",qe)),Ye=Object(p.a)({},M("admin/serviceCategories/",ze)),We=K.e().shape({private:K.b().required(),category:K.d(),name:K.g().required().max(255),duration:K.g(),cost:K.d(),description:K.g().required().max(255),color:K.g().required()}),Ke=K.e().shape({name:K.g().required().max(255),color:K.g().required()});function Je(e){return e.customer?Ze(e):$e(e)}function Xe(e){var t,n=e.customer?"P"!==e.status?e.customer.firstName+" - "+e.service.name:"pending request":"lock time: "+e.internalNotes;return Object(p.a)(Object(p.a)({},Ze(e)),{},{name:n,type:ge.CustomerRequestAppointment,customerNotes:e.customerNotes,companyName:(null===(t=e.owner)||void 0===t?void 0:t.name)?e.owner.name:"",request:e.request,status:e.status?e.status:"P"})}function Ze(e){return Object(p.a)(Object(p.a)({},$e(e)),{},{type:ge.CustomerAppointment,customer:Ge(e.customer),service:qe(e.service)})}function $e(e){return Object(p.a)(Object(p.a)({},e),{},{permissionModel:te.appointment,type:ge.EmployeeEvent,name:"",employee:z(e.employee)})}function et(e){return Object(p.a)(Object(p.a)({},Je(e)),{},{historyType:e.historyType,historyDate:e.historyDate,historyUser:e.historyUser?X(e.historyUser):null})}function tt(e,t,n){var r=T.a.utc().startOf("day").add(t,"hour").add(n,"minute").toISOString();return{start:r,end:r,employee:{id:e},deleted:null,id:0,internalNotes:"",name:"",owner:0,type:ge.EmployeeEvent}}function nt(e,t,n){return Object(p.a)(Object(p.a)({},tt(e,t,n)),{},{type:ge.CustomerAppointment,customer:{id:0},service:{id:0}})}var rt="admin/appointments/",ct=Object(p.a)(Object(p.a)({},M(rt,Je)),{},{history:function(e){return w.get(rt+"".concat(e,"/history/")).then((function(e){return e.data.results=e.data.results.map(et),e.data}))},createLock:function(e){return w.post(rt+"lock/",e).then((function(e){return Xe(e.data)}))},updateLock:function(e,t){return w.patch(rt+"".concat(e,"/plock/"),t).then((function(e){return Xe(e.data)}))}}),at=Object(p.a)({},M("appointments/",Xe)),it=K.e().shape({start:K.c(),end:K.c(),employee:K.d().required(),customer:K.d().required(),service:K.d().required(),internalNotes:K.g()}),st=K.e().shape({start:K.c(),end:K.c(),employee:K.d().required(),internalNotes:K.g().required()});function ot(e){var t,n,r={},c=0,a=Object(He.a)(e.appointments.map(Je));try{for(a.s();!(n=a.n()).done;){var i=n.value;c+=1,r.hasOwnProperty(i.employee.id)?r[i.employee.id].appointments.push(i):r[i.employee.id]={employee:i.employee,appointments:[i]}}}catch(s){a.e(s)}finally{a.f()}return Object(p.a)(Object(p.a)({},e),{},{owner:bt(e.owner),user:e.user?X(e.user):null,name:null===(t=e.user)||void 0===t?void 0:t.name,items:Object.keys(r).map((function(e){return r[e]})),itemsCount:c})}var ut="admin/requests/";Object(p.a)(Object(p.a)({},M(ut,ot)),{},{accept:function(e){return w.patch(ut+"".concat(e,"/accept/"),{}).then((function(e){return ot(e.data)}))},reject:function(e){return w.patch(ut+"".concat(e,"/reject/"),{}).then((function(e){return ot(e.data)}))}});function lt(e){return Object(p.a)(Object(p.a)({},e),{},{name:e.id,permissionModel:te.config})}var jt="https://res.cloudinary.com/gchahm/";function dt(e){var t=!1,n=e.services.map((function(e){return e.category||(t=!0),qe(e)})),r=e.serviceCategories.map((function(e){return ze(e)}));return t&&r.push({id:0,name:"Other",permissionModel:te.servicecategory}),Object(p.a)(Object(p.a)({},e),{},{avatar:jt+e.avatar,employees:e.employees.map((function(e){return z(e)})),services:n,serviceCategories:r,config:lt(e.config)})}function bt(e){return Object(p.a)(Object(p.a)({},e),{},{avatar:jt+e.avatar,config:lt(e.config)})}var Ot,mt="companies/",pt=Object(p.a)(Object(p.a)({},M(mt,bt)),{},{fromName:function(e){return w.get(mt+e+"/").then((function(e){return dt(e.data)}))},slots:function(e){var t=A(e);return w.get("companies/slots/",{params:t}).then((function(e){return e.data.map((function(e,t){return function(e,t){var n=T.a.utc(t.start),r=T.a.utc(t.end);return{id:e,date:n.clone().startOf("day").toISOString(),start:n,end:r,title:n.format("HH:mm")+" - "+r.format("HH:mm")}}(t,e)}))})).catch((function(e){return null}))}}),ft="requests/",ht=Object(p.a)(Object(p.a)({},M(ft,ot)),{},{createAppointment:function(e){return A(e),w.post("requests/add/",e).then((function(e){return ot(e.data)}))},patch:function(e){return w.patch("".concat(ft).concat(e.id,"/"),{customerNotes:e.notes}).then((function(e){return ot(e.data)}))},complete:function(e){return w.patch(ft+e+"/confirm/",{}).then((function(e){return ot(e.data)}))},delete:function(e){return w.post("requests/delete/",{appointment:e}).then((function(e){return ot(e.data)}))},current:function(e){return w.get("requests/current/",{params:{owner:e}}).then((function(e){return ot(e.data)}))}}),xt=n(54),Et=g.a.mark(kt),vt=g.a.mark(wt),St=g.a.mark(Mt),gt=g.a.mark(Dt),Ct=g.a.mark(Lt),yt=g.a.mark(Pt),Tt=g.a.mark(Ft),_t=g.a.mark(Qt),Nt=g.a.mark(Ht),At=g.a.mark(Gt),Rt=g.a.mark(Bt),It=g.a.mark(qt),Ut=g.a.mark(zt);function kt(e){var t;return g.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(C.b)(pt.fromName,e.payload);case 3:return t=n.sent,n.next=6,Object(C.d)(Ce(t));case 6:n.next=12;break;case 8:return n.prev=8,n.t0=n.catch(0),n.next=12,Object(C.d)((r=n.t0,Object(b.action)(pe.COMPANY_DETAILS_REQUEST_FAIL,r)));case 12:case"end":return n.stop()}var r}),Et,null,[[0,8]])}function wt(e){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(C.e)(he);case 2:if(!t.sent){t.next=6;break}return t.next=6,Object(C.d)((n=e.payload.id,Object(b.action)(pe.CURRENT_CART_REQUEST,n)));case 6:case"end":return t.stop()}var n}),vt)}function Mt(e){var t;return g.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(C.b)(ht.current,e.payload);case 3:return t=n.sent,n.next=6,Object(C.d)(Object(b.action)(pe.CURRENT_CART_REQUEST_SUCCESS));case 6:return n.next=8,Object(C.d)(_e(t));case 8:n.next=14;break;case 10:return n.prev=10,n.t0=n.catch(0),n.next=14,Object(C.d)((r=n.t0,Object(b.action)(pe.CURRENT_CART_REQUEST_FAIL,r)));case 14:case"end":return n.stop()}var r}),St,null,[[0,10]])}function Dt(e){var t,n,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(C.e)(Me);case 2:if(!(t=e.sent)){e.next=10;break}return e.next=6,Object(C.e)(ke);case 6:return n=e.sent,r=n.clone().add(xt.isMobile?0:1,"day").endOf("day"),e.next=10,Object(C.d)((c={start:n,end:r,service:t},Object(b.action)(pe.SLOTS_REQUEST,c)));case 10:case"end":return e.stop()}var c}),gt)}function Lt(e){var t;return g.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(C.b)(pt.slots,e.payload);case 3:return t=n.sent,n.next=6,Object(C.d)(ye(t));case 6:n.next=12;break;case 8:return n.prev=8,n.t0=n.catch(0),n.next=12,Object(C.d)(Object(b.action)(pe.SLOTS_REQUEST_FAIL));case 12:case"end":return n.stop()}}),Ct,null,[[0,8]])}function Pt(e){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(C.e)(ke);case 2:return t=e.sent,e.next=5,Object(C.d)(Te(t.clone().add(1,"day")));case 5:case"end":return e.stop()}}),yt)}function Ft(e){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(C.e)(ke);case 2:return t=e.sent,e.next=5,Object(C.d)(Te(t.clone().subtract(1,"day")));case 5:case"end":return e.stop()}}),Tt)}function Qt(e){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(C.d)(Te(T.a.utc().startOf("day")));case 2:case"end":return e.stop()}}),_t)}function Ht(e){var t;return g.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(C.b)(ht.createAppointment,e.payload);case 3:return t=n.sent,n.next=6,Object(C.d)(Object(b.action)(pe.BOOK_SLOT_REQUEST_SUCCESS));case 6:return n.next=8,Object(C.d)(_e(t));case 8:n.next=14;break;case 10:return n.prev=10,n.t0=n.catch(0),n.next=14,Object(C.d)(Object(b.action)(pe.BOOK_SLOT_REQUEST_FAIL));case 14:case"end":return n.stop()}}),Nt,null,[[0,10]])}function Gt(e){var t;return g.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(C.b)(ht.delete,e.payload);case 3:return t=n.sent,n.next=6,Object(C.d)(Object(b.action)(pe.CURRENT_CART_REQUEST_SUCCESS));case 6:return n.next=8,Object(C.d)(_e(t));case 8:n.next=14;break;case 10:return n.prev=10,n.t0=n.catch(0),n.next=14,Object(C.d)((r=n.t0,Object(b.action)(pe.CURRENT_CART_REQUEST_SUCCESS,r)));case 14:case"end":return n.stop()}var r}),At,null,[[0,10]])}function Bt(e){var t;return g.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(C.b)(ht.patch,e.payload);case 3:return t=n.sent,n.next=6,Object(C.d)(Object(b.action)(pe.ADD_NOTES_REQUEST_SUCCESS));case 6:return n.next=8,Object(C.d)(_e(t));case 8:n.next=14;break;case 10:return n.prev=10,n.t0=n.catch(0),n.next=14,Object(C.d)((r=n.t0,Object(b.action)(pe.ADD_NOTES_REQUEST_FAIL,r)));case 14:case"end":return n.stop()}var r}),Rt,null,[[0,10]])}function qt(e){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(C.b)(ht.complete,e.payload);case 3:return t.next=5,Object(C.d)(Object(b.action)(pe.CONFIRM_CART_REQUEST_SUCCESS));case 5:return t.next=7,Object(C.d)(_e(null));case 7:t.next=13;break;case 9:return t.prev=9,t.t0=t.catch(0),t.next=13,Object(C.d)((n=t.t0,Object(b.action)(pe.CONFIRM_CART_REQUEST_FAIL,n)));case 13:case"end":return t.stop()}var n}),It,null,[[0,9]])}function zt(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(C.f)(pe.COMPANY_DETAILS_REQUEST,kt);case 2:return e.next=4,Object(C.f)(pe.COMPANY_DETAILS_REQUEST_SUCCESS,wt);case 4:return e.next=6,Object(C.f)(pe.CURRENT_CART_REQUEST,Mt);case 6:return e.next=8,Object(C.f)(pe.SET_SELECTED_SERVICE_ID,Dt);case 8:return e.next=10,Object(C.f)(pe.SET_SELECTED_DATE,Dt);case 10:return e.next=12,Object(C.f)(pe.SLOTS_REQUEST,Lt);case 12:return e.next=14,Object(C.f)(pe.SELECTED_DATE_ADD_ONE,Pt);case 14:return e.next=16,Object(C.f)(pe.SELECTED_DATE_SUBTRACT_ONE,Ft);case 16:return e.next=18,Object(C.f)(pe.SELECTED_DATE_TODAY,Qt);case 18:return e.next=20,Object(C.f)(pe.BOOK_SLOT_REQUEST,Ht);case 20:return e.next=22,Object(C.f)(pe.DELETE_APPOINTMENT_REQUEST,Gt);case 22:return e.next=24,Object(C.f)(pe.ADD_NOTES_REQUEST,Bt);case 24:return e.next=26,Object(C.f)(pe.CONFIRM_CART_REQUEST,qt);case 26:case"end":return e.stop()}}),Ut)}!function(e){e.SET_SHOW_DASHBOARD_TOGGLE="UI/SET_SHOW_DASHBOARD_TOGGLE",e.TOGGLE_DASHBOARD_SIDENAV="UI/TOGGLE_DASHBOARD_SIDENAV"}(Ot||(Ot={}));var Vt,Yt=function(e){return Object(b.action)(Ot.SET_SHOW_DASHBOARD_TOGGLE,e)},Wt={showDashboardToggle:!1,sidenavOpen:!0},Kt=function(e){return e.ui.showDashboardToggle},Jt=function(e){return e.ui.sidenavOpen},Xt=n(405),Zt=n(27),$t=n(398),en=n(399),tn=n(400),nn=n(401),rn=n(402),cn=n(403),an=n(404),sn=n(419),on=n(420),un=n(406),ln=n(407),jn="/admin",dn="/admin/services",bn="/admin/schedules",On="/admin/employees",mn="/admin/customers",pn="/admin/users",fn="/admin/permission-groups",hn="/admin/appointments";!function(e){e.ROOT="/auth",e.LOGIN="/auth/login",e.REGISTER="/auth/register",e.LOGOUT="/auth/logout"}(Vt||(Vt={}));var xn=n(53),En=n(30),vn=n(213),Sn=n(0),gn=function(e){e.children;var t=e.size,n={margin:"".concat(void 0===t?2:t,"rem")};return Object(Sn.jsx)("div",{style:n})},Cn=function(e){var t=e.children,n=e.justify,r=e.align,c=e.className,a=void 0===c?"":c;return a+=" d-flex flex-column",r&&(a+=" align-items-".concat(r)),n&&(a+=" justify-content-".concat(n)),Object(Sn.jsx)("div",{className:a,children:t})},yn=["children","justify","align","className","flexWrap"],Tn=function(e){var t=e.children,n=e.justify,r=e.align,c=e.className,a=void 0===c?"":c,i=e.flexWrap,s=void 0!==i&&i,o=Object(xn.a)(e,yn);return a+=" d-flex flex-row".concat(s?" flex-wrap":""),n&&(a+=" justify-content-".concat(n)),r&&(a+=" align-items-".concat(r)),Object(Sn.jsx)("div",Object(p.a)(Object(p.a)({className:a},o),{},{children:t}))},_n=function(e){var t=e.children,n=e.grow,r=e.basisPercent,c={};return n&&(c.flexGrow=n),r&&(c.flex="".concat(r,"%")),Object(Sn.jsx)("div",{style:c,children:t})},Nn=n(226);function An(e,t,n){var r=g.a.mark(f),c=g.a.mark(h),a=g.a.mark(x),i=g.a.mark(E),s=g.a.mark(v),o=g.a.mark(S),u=g.a.mark(y),l=Object(d.c)({selectId:function(e){return e.id},sortComparer:function(e,t){return e.name.localeCompare(t.name)}}),j={initializeStore:Object(d.b)("".concat(e,"/initializeStore")),fetchEntities:Object(d.b)("".concat(e,"/fetchEntities")),fetchEntitiesWithSetAll:Object(d.b)("".concat(e,"/fetchEntitiesWithSetAll")),createEntity:Object(d.b)("".concat(e,"/createEntity")),patchEntity:Object(d.b)("".concat(e,"/patchEntity")),deleteEntity:Object(d.b)("".concat(e,"/deleteEntity")),setEditMode:Object(d.b)("".concat(e,"/setEditMode"))},b=Object(d.e)({name:e,initialState:l.getInitialState({isInitialized:!1,apiError:null,editMode:!1,createdEntityId:null}),reducers:{upsertMany:l.upsertMany,setAll:l.setAll,upsertOne:l.upsertOne,removeOne:l.removeOne,setInitialized:function(e,t){e.isInitialized=t.payload},setApiError:function(e,t){e.apiError=t.payload},setEditMode:function(e,t){e.editMode=t.payload},setCreatedEntityId:function(e,t){e.createdEntityId=t.payload}}}),O=l.getSelectors(n),m=Object(p.a)(Object(p.a)({},O),{},{selectByIds:Object(fe.a)(O.selectEntities,(function(e,t){return t}),(function(e,t){return t.map((function(t){return e[t]})).filter((function(e){return!!e}))})),selectIsInitialized:Object(fe.a)(n,(function(e){return e.isInitialized})),selectApiError:Object(fe.a)(n,(function(e){return e.apiError})),selectEditMode:Object(fe.a)(n,(function(e){return e.editMode})),selectCreatedEntity:Object(fe.a)(n,(function(e){return e.createdEntityId?e.entities[e.createdEntityId]:void 0}))});function f(e){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(C.e)(m.selectIsInitialized);case 2:if(!t.sent){t.next=5;break}return t.abrupt("return");case 5:return t.next=7,Object(C.d)(j.fetchEntities(e.payload));case 7:case"end":return t.stop()}}),r)}function h(e){var n;return g.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(C.b)(t.get,e.payload);case 3:return n=r.sent,r.next=6,Object(C.d)(b.actions.upsertMany(n.results));case 6:return r.next=8,Object(C.d)(b.actions.setInitialized(!0));case 8:r.next=16;break;case 10:return r.prev=10,r.t0=r.catch(0),r.next=14,Object(C.d)(b.actions.setApiError(r.t0));case 14:return r.next=16,Object(C.d)(b.actions.setInitialized(!1));case 16:case"end":return r.stop()}}),c,null,[[0,10]])}function x(e){var n;return g.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(C.b)(t.get,e.payload);case 3:return n=r.sent,r.next=6,Object(C.d)(b.actions.setAll(n.results));case 6:r.next=12;break;case 8:return r.prev=8,r.t0=r.catch(0),r.next=12,Object(C.d)(b.actions.setApiError(r.t0));case 12:case"end":return r.stop()}}),a,null,[[0,8]])}function E(e){var n;return g.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(C.b)(t.post,e.payload.entity);case 3:return n=r.sent,r.next=6,Object(C.d)(b.actions.upsertOne(n));case 6:return r.next=8,Object(C.d)(b.actions.setApiError(null));case 8:return r.next=10,Object(C.d)(b.actions.setEditMode(!1));case 10:return r.next=12,Object(C.d)(b.actions.setCreatedEntityId(n.id));case 12:r.next=18;break;case 14:return r.prev=14,r.t0=r.catch(0),r.next=18,Object(C.d)(b.actions.setApiError(r.t0));case 18:case"end":return r.stop()}}),i,null,[[0,14]])}function v(e){var n;return g.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(C.b)(t.patch,e.payload.id,e.payload.entity);case 3:return n=r.sent,r.next=6,Object(C.d)(b.actions.upsertOne(n));case 6:return r.next=8,Object(C.d)(b.actions.setApiError(null));case 8:return r.next=10,Object(C.d)(b.actions.setEditMode(!1));case 10:r.next=16;break;case 12:return r.prev=12,r.t0=r.catch(0),r.next=16,Object(C.d)(b.actions.setApiError(r.t0));case 16:case"end":return r.stop()}}),s,null,[[0,12]])}function S(e){return g.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(C.b)(t.delete,e.payload);case 3:return n.next=5,Object(C.d)(b.actions.removeOne(e.payload));case 5:return n.next=7,Object(C.d)(b.actions.setApiError(null));case 7:n.next=13;break;case 9:return n.prev=9,n.t0=n.catch(0),n.next=13,Object(C.d)(b.actions.setApiError(n.t0));case 13:case"end":return n.stop()}}),o,null,[[0,9]])}function y(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(C.f)(j.initializeStore.type,f);case 2:return e.next=4,Object(C.f)(j.fetchEntities.type,h);case 4:return e.next=6,Object(C.f)(j.fetchEntitiesWithSetAll.type,x);case 6:return e.next=8,Object(C.f)(j.createEntity.type,E);case 8:return e.next=10,Object(C.f)(j.patchEntity.type,v);case 10:return e.next=12,Object(C.f)(j.deleteEntity.type,S);case 12:case"end":return e.stop()}}),u)}return{actions:j,adapter:l,reducer:b.reducer,slice:b,sagas:y,selectors:m}}var Rn=An("adminAppointments",ct,(function(e){return e.adminAppointments})),In=Rn.actions,Un=(Rn.adapter,Rn.reducer),kn=Rn.sagas,wn=Rn.selectors,Mn=An("adminCustomers",Be,(function(e){return e.adminCustomers})),Dn=Mn.actions,Ln=(Mn.adapter,Mn.reducer),Pn=Mn.sagas,Fn=Mn.selectors,Qn="adminDashboard",Hn={currentDate:T.a.utc().startOf("day").toISOString(),selectedPanelId:null,panelHours:Array.from(Array(24).keys()),slotSize:6},Gn={setCurrentDate:Object(d.b)("".concat(Qn,"/setCurrentDate"),(function(e){return{payload:N(e.startOf("day"))}})),setSelectedPanelId:Object(d.b)("".concat(Qn,"/setCurrentPanel"))},Bn=Object(d.d)(Hn,(function(e){e.addCase(Gn.setCurrentDate.type,(function(e,t){e.currentDate=t.payload})),e.addCase(Gn.setSelectedPanelId.type,(function(e,t){e.selectedPanelId=t.payload}))}));var qn=An("adminSchedulingPanels",Object(p.a)({},M("admin/panels/",(function(e){return Object(p.a)(Object(p.a)({},e),{},{permissionModel:te.schedulingpanel})}))),(function(e){return e.adminSchedulingPanels})),zn=qn.actions,Vn=(qn.adapter,qn.reducer),Yn=qn.sagas,Wn=qn.selectors,Kn=function(e){return e.adminDashboard},Jn=Object(fe.a)(Kn,(function(e){return e.currentDate})),Xn=Object(fe.a)(Jn,(function(e){return _(e)})),Zn=Object(fe.a)(Kn,(function(e){return e.selectedPanelId})),$n={selectCurrentDate:Xn,selectSelectedPanel:Object(fe.a)((function(e){return e}),Zn,(function(e,t){return t?Wn.selectById(e,t):null})),selectPanelHours:Object(fe.a)(Kn,(function(e){return e.panelHours})),selectSlotSize:Object(fe.a)(Kn,(function(e){return e.slotSize}))},er=An("adminEmployees",W,(function(e){return e.adminEmployees})),tr=er.actions,nr=(er.adapter,er.reducer),rr=er.sagas,cr=er.slice,ar=er.selectors,ir=cr.actions;function sr(e){return Object(p.a)({},e)}var or="core/groups/",ur=Object(p.a)(Object(p.a)({},M(or,(function(e){return Object(p.a)(Object(p.a)({},e),{},{permissionModel:te.groupprofile,permissions:e.permissions?e.permissions:[]})}))),{},{permissions:function(){return w.get("core/groups/permissions/").then((function(e){return e.data.map(sr)}))}}),lr=K.e().shape({name:K.g().required(),permissions:K.a(K.d()).required().min(1)}),jr=An("adminPermissionGroups",ur,(function(e){return e.adminPermissionGroups})),dr=jr.actions,br=(jr.adapter,jr.reducer),Or=jr.sagas,mr=jr.selectors,pr=g.a.mark(yr),fr=g.a.mark(Tr),hr=Object(d.e)({name:"adminPermissions",initialState:{initialized:!1,permissions:[],apiError:null},reducers:{setPermissions:function(e,t){e.permissions=t.payload,e.initialized=!0},setApiError:function(e,t){e.apiError=t.payload,e.initialized=!1}}}),xr=hr.reducer,Er=hr.actions,vr=hr.name,Sr=function(e){return e.adminPermissions},gr={selectAll:Object(fe.a)(Sr,(function(e){return e.permissions})),selectIsInitialized:Object(fe.a)(Sr,(function(e){return e.initialized}))},Cr={initializeStore:Object(d.b)("".concat(vr,"/initializeStore"))};function yr(e){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(C.e)(gr.selectIsInitialized);case 2:if(e.sent){e.next=16;break}return e.prev=4,e.next=7,Object(C.b)(ur.permissions);case 7:return t=e.sent,e.next=10,Object(C.d)(Er.setPermissions(t));case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(4),e.next=16,Object(C.d)(Er.setApiError(e.t0));case 16:case"end":return e.stop()}}),pr,null,[[4,12]])}function Tr(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(C.f)(Cr.initializeStore.type,yr);case 2:case"end":return e.stop()}}),fr)}var _r,Nr=An("adminSchedules",Object(p.a)({},M("admin/schedules/",G)),(function(e){return e.adminSchedules})),Ar=Nr.actions,Rr=(Nr.adapter,Nr.reducer),Ir=Nr.sagas,Ur=Nr.selectors,kr=An("adminServiceCategories",Ye,(function(e){return e.adminServiceCategories})),wr=kr.actions,Mr=(kr.adapter,kr.reducer),Dr=kr.sagas,Lr=kr.selectors,Pr=An("adminUsers",ee,(function(e){return e.adminUsers})),Fr=Pr.actions,Qr=(Pr.adapter,Pr.reducer),Hr=Pr.sagas,Gr=Pr.selectors;!function(e){e.EVENTS_REQUEST="USERS/EVENTS_REQUEST",e.EVENTS_REQUEST_SUCCESS="USERS/EVENTS_REQUEST_SUCCESS",e.EVENTS_REQUEST_FAIL="USERS/EVENTS_REQUEST_FAIL",e.SET_SELECTED_EVENT="USERS/SET_SELECTED_EVENT"}(_r||(_r={}));var Br=function(e){return Object(b.action)(_r.EVENTS_REQUEST,{start:N(e.start),end:N(e.end)})},qr=function(e,t,n){return Object(b.action)(_r.EVENTS_REQUEST_SUCCESS,{start:e,end:t,events:n})},zr=function(e){return Object(b.action)(_r.SET_SELECTED_EVENT,e)},Vr={events:null,selectedEvent:null,start:null,end:null},Yr=function(e){return e.users},Wr=Object(fe.a)([Yr],(function(e){return e.events})),Kr=Object(fe.a)([Yr],(function(e){return e.start})),Jr=Object(fe.a)([Yr],(function(e){return e.end})),Xr=Object(fe.a)([Yr],(function(e){return e.selectedEvent})),Zr=g.a.mark(ec),$r=g.a.mark(tc);function ec(e){var t,n,r;return g.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,Object(C.e)(Kr);case 2:return t=c.sent,c.next=5,Object(C.e)(Jr);case 5:if(n=c.sent,t!==e.payload.start||n!==e.payload.end){c.next=8;break}return c.abrupt("return");case 8:return c.prev=8,c.next=11,Object(C.b)(at.get,e.payload);case 11:return r=c.sent,c.next=14,Object(C.d)(qr(e.payload.start,e.payload.end,r.results));case 14:c.next=20;break;case 16:return c.prev=16,c.t0=c.catch(8),c.next=20,Object(C.d)((a=c.t0,Object(b.action)(_r.EVENTS_REQUEST_FAIL,a)));case 20:case"end":return c.stop()}var a}),Zr,null,[[8,16]])}function tc(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(C.f)(_r.EVENTS_REQUEST,ec);case 2:case"end":return e.stop()}}),$r)}var nc=An("adminServices",Ve,(function(e){return e.adminServices})),rc=nc.actions,cc=(nc.adapter,nc.reducer),ac=nc.sagas,ic=nc.selectors,sc=Object(fe.a)(ic.selectAll,Lr.selectAll,(function(e,t){return t.map((function(t){return Object(p.a)(Object(p.a)({},t),{},{children:e.filter((function(e){return e.category===t.id}))})}))})),oc=Object(fe.a)(ic.selectAll,Lr.selectByIds,(function(e,t){return t.map((function(t){return Object(p.a)(Object(p.a)({},t),{},{children:e.filter((function(e){return e.category===t.id}))})}))})),uc=Object(p.a)(Object(p.a)({},ic),{},{selectServicesWithCategories:sc,selectServicesWithCategoriesByIds:oc}),lc=g.a.mark(jc);function jc(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(C.a)([Object(C.c)(me),Object(C.c)(zt),Object(C.c)(tc),Object(C.c)(ac),Object(C.c)(Dr),Object(C.c)(rr),Object(C.c)(Pn),Object(C.c)(Ir),Object(C.c)(Hr),Object(C.c)(Or),Object(C.c)(Tr),Object(C.c)(kn),Object(C.c)(Yn)]);case 2:case"end":return e.stop()}}),lc)}var dc=Object(Nn.a)(),bc=Object(d.a)({reducer:{auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0,n=t.type,c=t.payload;switch(n){case r.REGISTER_REQUEST:case r.LOGIN_REQUEST:return Object(p.a)(Object(p.a)({},e),{},{apiError:null});case r.SET_USER:return Object(p.a)(Object(p.a)({},e),{},{loggedIn:!!c,user:c,loadingUser:!1});case r.SET_LOADING_USER:return Object(p.a)(Object(p.a)({},e),{},{loadingUser:c});case r.REGISTER_REQUEST_FAIL:case r.LOGIN_REQUEST_FAIL:return Object(p.a)(Object(p.a)({},e),{},{loggedIn:!1,apiError:c,loadingUser:!1});default:return Object(p.a)({},e)}},users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vr,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case _r.EVENTS_REQUEST:return Object(p.a)({},e);case _r.EVENTS_REQUEST_SUCCESS:return Object(p.a)(Object(p.a)({},e),r);case _r.SET_SELECTED_EVENT:return Object(p.a)(Object(p.a)({},e),{},{selectedEvent:r});default:return Object(p.a)({},e)}},ui:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wt,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case Ot.SET_SHOW_DASHBOARD_TOGGLE:return Object(p.a)(Object(p.a)({},e),{},{showDashboardToggle:r});case Ot.TOGGLE_DASHBOARD_SIDENAV:return Object(p.a)(Object(p.a)({},e),{},{sidenavOpen:!e.sidenavOpen});default:return Object(p.a)({},e)}},companies:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ne,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case pe.COMPANY_DETAILS_REQUEST:return Object(p.a)(Object(p.a)({},e),{},{apiError:null});case pe.COMPANY_DETAILS_REQUEST_SUCCESS:return Object(p.a)(Object(p.a)({},e),{},{company:r,companyRequestCompleted:!0});case pe.COMPANY_DETAILS_REQUEST_FAIL:return Object(p.a)(Object(p.a)({},e),{},{company:null,companyRequestCompleted:!0});case pe.CURRENT_CART_REQUEST_SUCCESS:return Object(p.a)(Object(p.a)({},e),{},{currentRequestCompleted:!0});case pe.CURRENT_CART_REQUEST_FAIL:return Object(p.a)(Object(p.a)({},e),{},{currentRequest:null,currentRequestCompleted:!0});case pe.SET_SELECTED_SERVICE_ID:return Object(p.a)(Object(p.a)({},e),{},{selectedServiceId:r});case pe.SLOTS_REQUEST:return Object(p.a)(Object(p.a)({},e),{},{selectedSlotId:null});case pe.SLOTS_REQUEST_SUCCESS:return Object(p.a)(Object(p.a)({},e),{},{slots:r});case pe.SLOTS_REQUEST_FAIL:return Object(p.a)(Object(p.a)({},e),{},{slots:null});case pe.SET_SELECTED_SLOT_ID:return Object(p.a)(Object(p.a)({},e),{},{selectedSlotId:r});case pe.SET_SELECTED_DATE:return Object(p.a)(Object(p.a)({},e),{},{selectedDate:r});case pe.BOOK_SLOT_REQUEST:return Object(p.a)(Object(p.a)({},e),{},{selectedSlotId:null,selectedServiceId:null});case pe.SET_CURRENT_REQUEST:return Object(p.a)(Object(p.a)({},e),{},{currentRequest:r});default:return Object(p.a)({},e)}},adminDashboard:Bn,adminAppointments:Un,adminSchedulingPanels:Vn,adminServices:cc,adminServiceCategories:Mr,adminEmployees:nr,adminCustomers:Ln,adminSchedules:Rr,adminUsers:Qr,adminPermissionGroups:br,adminPermissions:xr},middleware:[dc]});dc.run(jc);var Oc=function(){return Object(j.b)()},mc=j.c,pc=function(e){var t=e.children,n=Object(j.b)();return Object(a.useEffect)((function(){n(m(!0)),ae.whoAmI().then((function(e){n(O(e))}))}),[n]),Object(Sn.jsx)(Sn.Fragment,{children:t})};function fc(e,t){var n=mc(Ee);return!t||!!n&&se(n,e,t)}var hc=["returnUrl"];function xc(){var e=new URLSearchParams(Object(En.h)().search),t={};return e.forEach((function(e,n){return t[n]=e})),t}function Ec(){var e=Object(En.g)();return Object(p.a)(Object(p.a)({},e),{},{push:function(t,n){return e.push(Sc(t,n))}})}var vc=function(e){var t=e.path,n=e.component,r=e.permissionModel,c=e.permissionType,a=void 0===c?ne.view:c,i=xc(),s=(i.returnUrl,Object(xn.a)(i,hc)),o=Ec().location.pathname,u=function(){var e=mc(Ee);return[mc(Se),e]}(),j=Object(l.a)(u,2),d=j[0],b=j[1],O=fc(a,r);return Object(Sn.jsxs)(Sn.Fragment,{children:[d&&Object(Sn.jsxs)(Tn,{className:"h-100vh",align:"center",justify:"center",children:["Loading",Object(Sn.jsx)(vn.a,{className:"ml-2",color:"primary"})]}),!d&&Object(Sn.jsxs)(Sn.Fragment,{children:[b&&O&&Object(Sn.jsx)(En.b,{path:t,component:n}),b&&!O&&Object(Sn.jsx)(Sn.Fragment,{children:"unauthorized access"}),!b&&Object(Sn.jsx)(En.a,{to:Sc(Vt.LOGIN,Object(p.a)(Object(p.a)({},s),{},{returnUrl:o}))})]})]})};function Sc(e,t){return"".concat(e).concat(t?function(e){if(!e)return"";var t=Object.keys(e).reduce((function(t,n,r){return e[n]?"".concat(t).concat(0===r?"?":"&").concat(n,"=").concat(e[n]):t}),"");return encodeURI(t)}(t):"")}var gc=function(e){return{index:"/c/".concat(e.name),cart:"/c/".concat(e.name,"/cart"),book:function(t){return Sc("/c/".concat(e.name,"/book"),Object(p.a)({},t))},checkout:"/c/".concat(e.name,"/checkout")}},Cc="/employee",yc="/my",Tc=function(e){return Sc("/my/bookings",{date:e})},_c=function(e){var t=e.src,n=e.size,r=void 0===n?7:n,c=e.alt,a=e.className,i=void 0===a?"":a,s=e.id,o={width:"".concat(r,"rem"),height:"".concat(r,"rem")};return i+=" round-image",Object(Sn.jsx)("img",{className:i,src:t,alt:c,style:o,id:s})},Nc=function(e){var t=e.icon,n=e.color,r=e.margin,c=void 0===r?1:r,a=e.onClick,i="fa fa-".concat(t," c-").concat(n," mx-").concat(c).concat(a?" c-pointer":"");return Object(Sn.jsx)("i",{className:i,onClick:a})},Ac=function(e){var t=e.company,n=e.cart,r=e.cartIsEmpty,c=e.user,a=e.menuOpen,i=e.toggleMenu,s=e.showSidenavToggle,o=e.toggleSidenav;return Object(Sn.jsx)("header",{children:Object(Sn.jsxs)($t.a,{className:"k-shadow-0",light:!0,expand:"md",children:[s&&Object(Sn.jsx)(Nc,{onClick:o,margin:2,icon:"bars"}),Object(Sn.jsx)(en.a,{tag:Zt.a,to:"/",className:"nav-logo",children:"Kalendario"}),Object(Sn.jsx)(tn.a,{onClick:i}),Object(Sn.jsx)(nn.a,{className:"justify-content-end",isOpen:a,navbar:!0,children:Object(Sn.jsxs)(rn.a,{navbar:!0,children:[t&&Object(Sn.jsx)(cn.a,{children:Object(Sn.jsx)(an.a,{tag:Zt.a,to:gc(t).index,children:Object(Sn.jsx)(_c,{src:t.avatar,size:2,id:"TooltipExample"})})}),n&&Object(Sn.jsx)(cn.a,{children:Object(Sn.jsxs)(an.a,{tag:Zt.a,to:gc(t).cart,disabled:r,children:[Object(Sn.jsx)("i",{className:"fa fa-shopping-cart"}),Object(Sn.jsx)("span",{className:"badge",children:n.itemsCount})]})}),!c&&Object(Sn.jsxs)(Sn.Fragment,{children:[Object(Sn.jsx)(cn.a,{children:Object(Sn.jsx)(an.a,{tag:Zt.a,to:Vt.LOGIN,children:Object(Sn.jsx)(Xt.a,{id:"AUTH.LOGIN"})})}),Object(Sn.jsx)(cn.a,{children:Object(Sn.jsx)(an.a,{tag:Zt.a,to:Vt.REGISTER,children:Object(Sn.jsx)(Xt.a,{id:"AUTH.REGISTER"})})})]}),c&&Object(Sn.jsxs)(sn.a,{nav:!0,inNavbar:!0,children:[Object(Sn.jsx)(on.a,{nav:!0,caret:!0,children:"Menu"}),Object(Sn.jsxs)(un.a,{right:!0,children:[Object(Sn.jsx)(ln.a,{children:Object(Sn.jsx)(an.a,{tag:Zt.a,to:Tc(),children:Object(Sn.jsx)(Xt.a,{id:"USER.BOOKINGS"})})}),Object(Sn.jsx)(ln.a,{divider:!0}),c.company&&Object(Sn.jsx)(ln.a,{children:Object(Sn.jsx)(an.a,{tag:Zt.a,to:jn,children:Object(Sn.jsx)(Xt.a,{id:"NAVBAR.ADMIN"})})}),c.employee&&Object(Sn.jsx)(ln.a,{children:Object(Sn.jsx)(an.a,{tag:Zt.a,to:Cc,children:Object(Sn.jsx)(Xt.a,{id:"NAVBAR.EMPLOYEE"})})}),Object(Sn.jsx)(ln.a,{divider:!0}),Object(Sn.jsx)(ln.a,{children:Object(Sn.jsx)(an.a,{tag:Zt.a,to:Vt.LOGOUT,children:Object(Sn.jsx)(Xt.a,{id:"AUTH.LOGOUT"})})})]})]})]})})]})})},Rc=function(){var e=Object(j.c)(Ee),t=Object(a.useState)(!1),n=Object(l.a)(t,2),r=n[0],c=n[1],i=Object(j.b)(),s=Object(j.c)(Re),o=Object(j.c)(we),u=Object(j.c)(Fe),d=Object(j.c)(Kt);return Object(Sn.jsx)(Ac,{company:s,cart:o,cartIsEmpty:u,user:e,toggleMenu:function(){return c(!r)},menuOpen:r,showSidenavToggle:d,toggleSidenav:function(){return i(Object(b.action)(Ot.TOGGLE_DASHBOARD_SIDENAV))}})},Ic=n(215),Uc=function(e){return Object(Sn.jsx)(Ic.a,Object(p.a)({},e))},kc=n(218),wc=n.n(kc),Mc=n(418),Dc=function(e){var t=e.id,n=e.text,r=Object(a.useState)(!1),c=Object(l.a)(r,2),i=c[0],s=c[1];return Object(Sn.jsx)(Mc.a,{placement:"right",target:t,isOpen:i,toggle:function(){return s(!i)},children:n})},Lc=function(e){var t=e.icon,n=e.onClick,r=e.color,c=e.disabled,i=Object(a.useState)(wc()("icon-button-")),s=Object(l.a)(i,1)[0];return Object(Sn.jsxs)("div",{id:s,children:[Object(Sn.jsx)("button",{onClick:n,disabled:c,type:"button",className:"c-".concat(r," icon-button mx-1"),children:Object(Sn.jsx)(Nc,{icon:t})}),c&&Object(Sn.jsx)(Dc,{id:s,text:"restricted access"})]})},Pc=["children","className","onClick"],Fc=function(e){var t=e.children,n=e.className,r=e.onClick,c=Object(xn.a)(e,Pc);return Object(Sn.jsx)("div",Object(p.a)(Object(p.a)({className:"m-2 c-pointer ".concat(n),onClick:r},c),{},{children:t}))},Qc=["children","className"],Hc=function(e){var t=e.children,n=e.className,r=void 0===n?"":n,c=Object(xn.a)(e,Qc);return Object(Sn.jsx)(Uc,Object(p.a)(Object(p.a)({className:"".concat(r," btn-round")},c),{},{children:t}))},Gc=function(e){var t=e.children;return Object(Sn.jsx)("div",{className:"container mt-5",children:Object(Sn.jsx)(Cn,{children:t})})},Bc=function(e){var t=e.children,n=e.className,r=e.style,c=Object(a.useState)(!1),i=Object(l.a)(c,2),s=i[0],o=i[1];return Object(Sn.jsx)(Tn,{align:"center",justify:"center",onMouseEnter:function(){return o(!0)},onMouseLeave:function(){return o(!1)},className:"".concat(n," position-relative"),style:r,children:s&&t})},qc=function(e){var t=e.header,n=e.children,r=e.footer,c=e.className,a=void 0===c?"":c,i=e.maxWidth,s=e.mwUnit,o=void 0===s?"px":s,u=e.maxHeight,l=e.mhUnit,j=void 0===l?"px":l,d=e.hasShadow,b=void 0===d||d,O=e.hasBorder,m=void 0===O||O,p=e.bodiless,f=void 0!==p&&p;a+=" card ".concat(b?" company-shadow-1":""," ").concat(m?"":"border-0");var h={};i&&(h={maxWidth:"".concat(i).concat(o)});var x={};return u&&(x={maxHeight:"".concat(u).concat(j),overflow:"scroll"}),Object(Sn.jsxs)("div",{className:a,style:h,children:[Object(Sn.jsxs)("div",{className:f?"":"card-body",style:x,children:[t&&Object(Sn.jsx)("h5",{className:"card-title text-center",children:t}),n]}),r&&Object(Sn.jsx)("div",{className:"card-footer",children:r})]})},zc=function e(t){var n=t.items,r=t.renderComponent,c=Object(a.useState)(new Set),i=Object(l.a)(c,2),s=i[0],o=i[1];return Object(Sn.jsx)("ul",{className:"tree-view ul-none",children:n.map((function(t){return Object(Sn.jsxs)("li",{children:[Object(Sn.jsxs)(Tn,{children:[t.children&&Object(Sn.jsx)(Lc,{onClick:function(){return e=t.id,s.has(e)?s.delete(e):s.add(e),void o(new Set(s));var e},icon:"caret-right"}),r(t)]}),t.children&&s.has(t.id)&&Object(Sn.jsx)(e,{renderComponent:r,items:t.children})]},t.id)}))})};var Vc=function(e){var t=e.currentDate,n=e.dateChange,r=xt.isMobile?2:3,c=Object(a.useState)(t.clone().startOf("day").subtract(r,"day")),i=Object(l.a)(c,2),s=i[0],o=i[1],u=Object(a.useState)(t.clone().startOf("day").add(r,"day")),j=Object(l.a)(u,2),d=j[0],b=j[1],O=function(e,t){for(var n=[],r=T.a.utc(e.toISOString());r.isBefore(t)||r.isSame(t);)n.push(T.a.utc(r.toISOString())),r=r.clone().add(1,"day");return n}(s,d),m=function(e){n(e),e>d&&(o(e.clone()),b(e.clone().add(2*r,"day"))),e<s&&(o(e.clone().subtract(2*r,"day")),b(e.clone()))};return Object(Sn.jsxs)(Sn.Fragment,{children:[Object(Sn.jsxs)(Tn,{justify:"between",className:"mb-2",children:[Object(Sn.jsx)(Lc,{icon:"chevron-left",color:"primary",onClick:function(){m(t.clone().subtract(1,"day"))}}),t.format("MMMM YYYY").toUpperCase(),Object(Sn.jsx)(Lc,{icon:"chevron-right",color:"primary",onClick:function(){m(t.clone().add(1,"day"))}})]}),Object(Sn.jsx)(Tn,{justify:"between",className:"mb-2",children:O.map((function(e,n){return Object(Sn.jsxs)(Cn,{className:"m-2",align:"center",justify:"center",children:[e.format("ddd").toUpperCase(),Object(Sn.jsx)(Hc,{className:"mt-2",color:"".concat(e.date()===t.date()?"accent":"primary"),onClick:function(){return m(e.clone())},children:e.date()})]},n)}))}),Object(Sn.jsx)("div",{children:Object(Sn.jsx)("hr",{})}),Object(Sn.jsxs)(Tn,{justify:"center",align:"center",children:[Object(Sn.jsx)(Nc,{icon:"calendar",margin:2}),t.format("dddd, DD MMM YY")]})]})},Yc=function(e){var t=e.date,n=function(e,t){switch(t.isoWeekday()){case 1:return e.mon;case 2:return e.tue;case 3:return e.wed;case 4:return e.thu;case 5:return e.fri;case 6:return e.sat;case 7:return e.sun}}(e.schedule,t);return Object(Sn.jsxs)(Tn,{justify:"center",children:[n&&n.frames.map((function(e,t){return Object(Sn.jsxs)(i.a.Fragment,{children:[0!==t?" |":""," ",e.name]},t)})),!n&&Object(Sn.jsx)(Sn.Fragment,{children:"No shift available"})]})},Wc=function(e){var t,n,r=e.appointment,c=_(r.start).format("HH:mm"),a=_(r.end).format("HH:mm"),i="customerNotes"in r?r.customerNotes:"",s="customer"in r?null===(t=r.customer)||void 0===t?void 0:t.name:"",o="service"in r?null===(n=r.service)||void 0===n?void 0:n.name:"";return Object(Sn.jsxs)(Cn,{children:[Object(Sn.jsx)(Tn,{className:"font-weight-bolder mb-2",justify:"center",children:o}),Object(Sn.jsxs)(Tn,{align:"center",className:"mb-2",children:[Object(Sn.jsx)(Nc,{icon:"clock",color:"primary",margin:2})," ","".concat(c," - ").concat(a)]}),s&&Object(Sn.jsxs)(Tn,{align:"center",className:"mb-2",children:[Object(Sn.jsx)(Nc,{icon:"address-card",color:"primary",margin:2})," ",s]}),r.internalNotes&&Object(Sn.jsxs)(Tn,{align:"center",className:"mb-2",children:[Object(Sn.jsx)(Nc,{icon:"sticky-note",color:"primary",margin:2})," ",r.internalNotes]}),i&&Object(Sn.jsxs)(Tn,{align:"center",className:"mb-2",children:[Object(Sn.jsx)(Nc,{icon:"comment-alt",color:"primary",margin:2})," ",i]})]},r.id)},Kc=function(){var e=Object(a.useState)(T.a.utc()),t=Object(l.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)([]),s=Object(l.a)(c,2),o=s[0],u=s[1],d=Object(j.c)(ve);return Object(a.useEffect)((function(){ct.get({employee:null===d||void 0===d?void 0:d.id,from_date:N(n.clone().startOf("day")),to_date:N(n.clone().endOf("day"))}).then((function(e){return u(e.results)}))}),[n,null===d||void 0===d?void 0:d.id]),Object(Sn.jsx)(Cn,{className:"h-100vh pt-2",align:"center",justify:"center",children:d&&Object(Sn.jsx)(qc,{className:"h-100",maxWidth:600,hasShadow:!xt.isMobile,hasBorder:!xt.isMobile,children:Object(Sn.jsxs)(Cn,{className:"h-100",children:[Object(Sn.jsx)(Tn,{justify:"center",className:"mb-3",children:d.name}),Object(Sn.jsx)(Vc,{currentDate:n,dateChange:r}),Object(Sn.jsx)("div",{children:Object(Sn.jsx)("hr",{})}),Object(Sn.jsx)(Yc,{schedule:d.schedule,date:n}),Object(Sn.jsx)("div",{children:Object(Sn.jsx)("hr",{})}),Object(Sn.jsx)("div",{className:"flex-fill overflow-auto",children:o.map((function(e){return Object(Sn.jsxs)(i.a.Fragment,{children:[Object(Sn.jsx)(Wc,{appointment:e}),Object(Sn.jsx)("hr",{})]},e.id)}))})]})})})},Jc=function(){return Object(Sn.jsx)(En.d,{children:Object(Sn.jsx)(vc,{path:Cc,component:Kc})})},Xc=n(214),Zc=n(408),$c=n(409),ea=function(e){var t=e.placeholder,n=e.name,r=e.checked,c=e.value,a=e.onChange,i=e.onBlur;return Object(Sn.jsxs)(Zc.a,{check:!0,children:[Object(Sn.jsx)($c.a,{type:"checkbox",name:n,onChange:a,onBlur:i,checked:r||!!c}),t]})},ta=function(e){var t=e.value,n=e.name,r=e.className,c=e.onBlur,a=e.onChange;return Object(Sn.jsx)("input",{className:r,name:n,onBlur:c,type:"color",onChange:a,value:t})},na=function(e){var t=e.value,n=e.onChange,r=t&&T.a.isMoment(t)?t:_(t);return Object(Sn.jsx)($c.a,{type:"date",value:r&&r.format("YYYY-MM-DD"),onChange:function(e){return n&&n(T.a.utc(e.target.value))}})},ra=function(e){var t=e.value,n=e.name,r=e.className,c=e.onBlur,i=e.onChange,s=(e.onKeyUp,Object(a.useState)(P(t))),o=Object(l.a)(s,2),u=o[0],j=o[1],d=function(e,t){j(t),i&&i(Object(p.a)(Object(p.a)({},e),{},{target:Object(p.a)(Object(p.a)({},e.target),{},{type:"string",value:Q(t)})}))},b={width:"30%"};return Object(Sn.jsxs)(Tn,{className:r,justify:"center",children:[Object(Sn.jsx)("span",{className:"mx-2",children:"hour(s)"}),Object(Sn.jsx)("input",{style:b,className:"input-no-border",name:n,onBlur:c,onChange:function(e){d(e,{hour:+e.target.value,minute:u.minute})},type:"number",value:u.hour}),Object(Sn.jsx)("span",{className:"mx-2",children:"min(s)"}),Object(Sn.jsx)("input",{style:b,className:"input-no-border",name:n,onBlur:c,onChange:function(e){d(e,{hour:u.hour,minute:+e.target.value})},type:"number",max:60,value:u.minute})]})},ca=function(e){var t=e.className,n=e.type,r=e.placeholder,c=e.value,a=e.onChange,i=e.children;return Object(Sn.jsx)($c.a,{className:t,type:n,value:c,placeholder:r,onChange:a,children:i})},aa=n(410),ia=function(e){var t=e.name,n=e.value,r=e.options,c=e.onChange,a=e.onBlur,i=new Set(n),s=function(e){return function(n){e.children&&o(e)?e.children.forEach((function(e){return i.delete(e.id)})):e.children?e.children.forEach((function(e){return i.add(e.id)})):i.has(e.id)?i.delete(e.id):i.add(e.id),c&&c(Object(p.a)(Object(p.a)({},n),{},{target:Object(p.a)(Object(p.a)({},n.target),{},{name:t,value:Array.from(i)})}))}},o=function(e){return e.children?e.children.every((function(e){return i.has(e.id)})):i.has(e.id)};return Object(Sn.jsx)(qc,{hasShadow:!1,maxHeight:30,bodiless:!0,mhUnit:"vh",children:Object(Sn.jsx)(zc,{items:r,renderComponent:function(e){return Object(Sn.jsx)(aa.a,{check:!0,children:Object(Sn.jsx)(ea,{placeholder:e.name,name:t,onBlur:a,onChange:s(e),checked:o(e)})})}})})},sa=n(219),oa=n.n(sa),ua=function(){var e=mc($n.selectCurrentDate),t=Oc();return Object(Sn.jsxs)(Tn,{className:oa.a.dateSelectorContainer,align:"center",children:[Object(Sn.jsx)(Cn,{className:"mr-2",children:Object(Sn.jsx)(na,{value:e,onChange:function(e){t(Gn.setCurrentDate(e))}})}),Object(Sn.jsx)(Ic.a,{color:"primary",size:"sm",onClick:function(){t(Gn.setCurrentDate(T.a.utc()))},children:"Today"}),Object(Sn.jsx)(Lc,{icon:"chevron-left",color:"accent",onClick:function(){t(Gn.setCurrentDate(e.clone().subtract(1,"day")))}}),Object(Sn.jsx)(Lc,{icon:"chevron-right",color:"accent",onClick:function(){t(Gn.setCurrentDate(e.clone().add(1,"day")))}})]})};function la(){var e=mc($n.selectSelectedPanel);return mc((function(t){return ar.selectByIds(t,(null===e||void 0===e?void 0:e.employees)||[])}))}function ja(e){var t=mc($n.selectSlotSize);return"".concat((e.hours()+e.minutes()/60)*t,"rem")}var da=n(57),ba=n.n(da),Oa=function(){var e=function(e){return e.date()===e.utc().date()}(Object(j.c)($n.selectCurrentDate)),t={top:ja(T()())};return Object(Sn.jsx)("div",{className:"position-relative",children:e&&Object(Sn.jsx)("div",{style:t,className:ba.a.currentTimeLine})})},ma=n(421),pa=n(411),fa=n(412),ha=n(413),xa=function(e){var t=e.header,n=e.body,r=e.buttons,c=e.backdrop,a=void 0===c||c,i=e.scrollable,s=void 0===i||i,o=e.isOpen,u=e.onCancel;return Object(Sn.jsxs)(ma.a,{isOpen:o,toggle:u,backdrop:a,scrollable:s,children:[t&&Object(Sn.jsx)(pa.a,{toggle:u,children:t}),Object(Sn.jsx)(fa.a,{className:"m-2",children:n}),r&&Object(Sn.jsx)(ha.a,{children:r.map((function(e,t){return Object(Sn.jsx)(Ic.a,{color:e.color,onClick:e.onClick,children:e.text},t)}))})]})},Ea=function(e){var t,n=e.appointment,r=function(e){return T.a.utc(e).format("DD/MM/YYYY HH:mm")},c=n.historyDate?r(n.historyDate):null;return Object(Sn.jsxs)(qc,{hasShadow:!1,className:"my-2 small",bodiless:!0,footer:Object(Sn.jsxs)(Tn,{className:"small",justify:"between",children:[Object(Sn.jsx)(Cn,{children:null===(t=n.historyUser)||void 0===t?void 0:t.name}),Object(Sn.jsx)(Cn,{children:c})]}),children:[Object(Sn.jsxs)(Tn,{align:"center",justify:"center",children:[r(n.start),Object(Sn.jsx)(Nc,{icon:"clock",color:"primary",margin:2}),r(n.end)]}),Object(Sn.jsxs)(Tn,{align:"center",children:[Object(Sn.jsx)(Nc,{icon:"user",color:"primary",margin:2})," ",n.employee.name]}),n.service&&Object(Sn.jsxs)(Tn,{align:"center",children:[Object(Sn.jsx)(Nc,{icon:"magic",color:"primary",margin:2})," ",n.service.name]}),n.customer&&Object(Sn.jsxs)(Tn,{align:"center",children:[Object(Sn.jsx)(Nc,{icon:"address-card",color:"primary",margin:2})," ",n.customer.name]}),n.internalNotes&&Object(Sn.jsxs)(Tn,{align:"center",className:"mb-2",children:[Object(Sn.jsx)(Nc,{icon:"sticky-note",color:"primary",margin:2})," ",n.internalNotes]}),n.customerNotes&&Object(Sn.jsxs)(Tn,{align:"center",className:"mb-2",children:[Object(Sn.jsx)(Nc,{icon:"comment-alt",color:"primary",margin:2})," ",n.customerNotes]})]})},va=function(e){var t=e.id,n=e.isOpen,r=e.onClose,c=Object(a.useState)([]),i=Object(l.a)(c,2),s=i[0],o=i[1];return Object(a.useEffect)((function(){ct.history(t).then((function(e){o(e.results)}))}),[t]),Object(Sn.jsx)(xa,{body:Object(Sn.jsx)(Cn,{children:s.map((function(e){return Object(Sn.jsx)(Ea,{appointment:e},e.id)}))}),header:"history",onCancel:r,isOpen:n})};function Sa(e,t,n){var r=Object(a.useState)(null),c=Object(l.a)(r,2),i=c[0],s=c[1],o=mc(e.selectApiError),u=mc(e.selectEditMode),j=mc(e.selectCreatedEntity),d=Oc();return[function(e){return function(){s(e),d(t.setEditMode(!0))}},Object(Sn.jsx)(xa,{body:Object(Sn.jsx)(n,{entity:i,apiError:o,onSubmit:function(e){i&&0!==i.id?d(t.patchEntity({id:i.id,entity:e})):d(t.createEntity({entity:e}))},onCancel:function(){s(null),d(t.setEditMode(!1))}}),isOpen:u}),j]}function ga(e,t){var n=Oc();return Object(a.useEffect)((function(){n(t.initializeStore())}),[t,n]),mc(e.selectAll)}function Ca(e){var t=Oc();Object(a.useEffect)((function(){t(e.initializeStore())}),[e,t])}var ya=n(32),Ta=n(414),_a=function(e){var t=e.apiError,n=Object(ya.d)();return Object(a.useEffect)((function(){(null===t||void 0===t?void 0:t.detail)&&Object.keys(t.detail).forEach((function(e){if("nonFieldErrors"!==e&&Array.isArray(t.detail[e])){var r=t.detail[e].reduce((function(e,t){return e+t}),"");n.setFieldError(e,r)}}))}),[t,n]),Object(Sn.jsx)(Sn.Fragment,{})},Na=function(e){var t=e.value;return Object(Sn.jsxs)(Sn.Fragment,{children:[t.toFixed(2)," \u20ac"]})},Aa=function(e){var t=e.message;return Object(Sn.jsx)(aa.a,{children:Object(Sn.jsx)("div",{className:"text-danger",children:t})})},Ra=function(e){var t=e.onClick,n=e.className;return Object(Sn.jsx)(Uc,{className:n,onClick:t,color:"danger",type:"button",children:Object(Sn.jsx)(Xt.a,{id:"COMMON.FORM.CANCEL"})})},Ia=function(e){var t=e.text,n=void 0===t?"Submit":t,r=e.className,c=void 0===r?"":r,a=e.isBlock,i=void 0!==a&&a,s=Object(ya.d)();return c+=" btn-primary",i&&(c+=" btn-block"),Object(Sn.jsx)(Uc,{color:"primary",disabled:!s.isValid,className:c,type:"submit",children:n})},Ua=function(e){var t=e.onCancel;return Object(Sn.jsxs)(Tn,{align:"baseline",justify:"end",children:[Object(Sn.jsx)(Ia,{className:"mr-2"}),Object(Sn.jsx)(Ra,{className:"m-0",onClick:t})]})};function ka(e){var t=e.initialValues,n=e.apiError,r=e.onSubmit,c=e.onCancel,a=e.children,i=e.validationSchema,s=[];return(null===n||void 0===n?void 0:n.detail)&&n.detail.nonFieldErrors&&(s=n.detail.nonFieldErrors),Object(Sn.jsx)(ya.c,{initialValues:t,validationSchema:i,onSubmit:r,children:function(e){return Object(Sn.jsxs)(Ta.a,{className:"is-invalid",onSubmit:function(t){t.preventDefault(),e.handleSubmit(t)},children:[Object(Sn.jsx)(aa.a,{className:"text-danger",children:s.map((function(e,t){return Object(Sn.jsx)("div",{children:e},t)}))}),Object(Sn.jsx)(_a,{apiError:n}),"function"==typeof a?a(e):a,c&&Object(Sn.jsx)(Ua,{onCancel:c})]})}})}var wa=n(415);function Ma(e){var t=e.replace(/([A-Z])/g," $1");return t.charAt(0).toUpperCase()+t.slice(1)}var Da=function(e){var t=e.name,n=e.placeholder,r=e.type,c=e.options,i=e.multiple,s=void 0!==i&&i,o=e.emptyOption,u=void 0===o||o,l=e.as,j=void 0===l?"input":l,d=e.className,b=void 0===d?"":d,O=Object(ya.d)(),m=O.getFieldMeta(t),p=O.getFieldHelpers(t),f="form-control ".concat(m.error&&m.touched?" is-invalid":""," ").concat(s?" form-select form-control":""),h="checkbox"===j,x=a.useMemo((function(){return function(e,t){switch(e){case"duration":return ra;case"color":return ta;case"multi-select":return function(e){return Object(Sn.jsx)(ia,{name:e.name,value:e.value,onChange:e.onChange,onBlur:e.onBlur,options:t||[]})};case"checkbox":return ea;default:return e}}(j,c)}),[c,j]);return Object(Sn.jsxs)(aa.a,{className:b,check:h,children:[!h&&Object(Sn.jsx)(Zc.a,{for:t,className:"ml-1 mb-1",children:n||Ma(t)}),Object(Sn.jsx)(ya.b,{className:f,as:x,id:t,name:t,type:r,multiple:s,placeholder:n||t,children:c&&Object(Sn.jsxs)(Sn.Fragment,{children:[u&&!s&&Object(Sn.jsx)("option",{onClick:function(){return p.setValue(null)},value:""}),c.map((function(e){return Object(Sn.jsx)("option",{value:e.id,children:e.name},e.id)}))]})}),Object(Sn.jsx)(wa.a,{children:Object(Sn.jsx)(ya.a,{name:t})})]})},La=n(140),Pa=function(e){var t,n=e.entity,r=e.apiError,c=e.onSubmit,a=e.onCancel,i=K.e().shape({firstName:K.g().required(),lastName:K.g().required(),email:K.g().required().email()});return Object(Sn.jsxs)(ka,{initialValues:(t=n,t?{email:t.email,firstName:t.firstName,lastName:t.lastName,phone:t.phone,warning:t.warning}:{email:"",firstName:"",lastName:"",phone:"",warning:""}),apiError:r,onSubmit:c,onCancel:a,validationSchema:i,children:[Object(Sn.jsx)(Da,{name:"firstName"}),Object(Sn.jsx)(Da,{name:"lastName"}),Object(Sn.jsx)(Da,{name:"email"}),Object(Sn.jsx)(Da,{name:"phone"}),Object(Sn.jsx)(Da,{as:"textarea",name:"warning"})]})},Fa=function(e){var t=e.initialCustomer,n=Object(a.useState)(t),r=Object(l.a)(n,2),c=r[0],i=r[1],s=Sa(Fn,Dn,Pa),o=Object(l.a)(s,3),u=o[0],j=o[1],d=o[2],b=Object(ya.d)().getFieldHelpers("customer").setValue;Object(a.useEffect)((function(){d&&(i(d),b(d.id))}),[d,b]);return Object(Sn.jsxs)(aa.a,{children:[j,Object(Sn.jsx)(Zc.a,{children:"Customer"}),Object(Sn.jsx)(aa.a,{children:Object(Sn.jsxs)(Tn,{align:"center",children:[Object(Sn.jsx)(La.a,{className:"flex-fill",cacheOptions:!0,defaultOptions:!0,backspaceRemovesValue:!0,defaultInputValue:null===t||void 0===t?void 0:t.name,getOptionValue:function(e){return e.id.toString()},getOptionLabel:function(e){return e.name},formatOptionLabel:function(e){return Object(Sn.jsxs)(Cn,{justify:"between",className:e.warning?"bg-danger":"",children:[Object(Sn.jsx)("span",{className:"font-bold",children:e.name})," ",e.email]})},onChange:function(e){i(e),b((null===e||void 0===e?void 0:e.id)||null)},loadOptions:function(e){return Be.get({search:e}).then((function(e){return e.results}))}}),Object(Sn.jsx)(Lc,{color:"primary",icon:"plus",onClick:u(null)})]})}),c&&Object(Sn.jsxs)(Cn,{children:[Object(Sn.jsxs)(Tn,{justify:"between",children:[Object(Sn.jsxs)(Tn,{className:"mb-2",align:"center",children:[Object(Sn.jsx)(Nc,{margin:2,color:"primary",icon:"user"}),c.name]}),Object(Sn.jsxs)(Tn,{align:"center",children:[Object(Sn.jsx)(Nc,{margin:2,color:"primary",icon:"phone"}),c.phone]})]}),Object(Sn.jsxs)(Tn,{align:"center",children:[Object(Sn.jsx)(Nc,{margin:2,color:"primary",icon:"at"}),c.email]})]})]})},Qa=n(222),Ha=n.n(Qa),Ga=function(e){var t=e.name,n=Object(ya.d)();return Object(Sn.jsx)(aa.a,{children:Object(Sn.jsx)(Ha.a,{inputProps:{name:t,className:"form-control"},initialValue:_(n.getFieldProps(t).value),onChange:function(e){n.getFieldHelpers(t).setValue(N(e))}})})};function Ba(e,t){var n=T.a.utc(t,"HH:mm");return e.clone().add(n.hour(),"hour").add(n.minutes(),"minutes").toISOString()}function qa(e){var t=Object(ya.d)(),n=t.getFieldMeta(e).value,r=t.getFieldHelpers(e).setValue,c=_(n),i=Object(a.useState)(c.format("HH:mm")),s=Object(l.a)(i,2),o=s[0],u=s[1];Object(a.useEffect)((function(){var e=_(n);u(e.format("HH:mm"))}),[n]);return[c,function(e){r(Ba(e.startOf("day"),o))},o,function(e){u(e.target.value),r(Ba(c.startOf("day"),e.target.value))}]}var za=function(){var e=qa("start"),t=Object(l.a)(e,4),n=t[0],r=t[1],c=t[2],a=t[3],i=qa("end"),s=Object(l.a)(i,4),o=s[2],u=s[3];return Object(Sn.jsxs)(Sn.Fragment,{children:[Object(Sn.jsx)(aa.a,{children:Object(Sn.jsxs)(Cn,{children:[Object(Sn.jsx)(Zc.a,{children:"Date"}),Object(Sn.jsx)(na,{value:n,onChange:r})]})}),Object(Sn.jsx)(aa.a,{children:Object(Sn.jsxs)(Tn,{align:"center",justify:"center",children:[Object(Sn.jsxs)(Cn,{className:"w-100",children:["Start",Object(Sn.jsx)($c.a,{value:c,onChange:a,type:"time"})]}),Object(Sn.jsxs)(Cn,{className:"w-100",children:["Finish",Object(Sn.jsx)($c.a,{value:o,onChange:u,type:"time"})]})]})})]})};var Va=function(e){var t=e.appointment,n=mc(ar.selectAll),r=function(){var e=Object(ya.d)().getFieldProps("employee").value,t=Object(a.useState)([]),n=Object(l.a)(t,2),r=n[0],c=n[1],i=mc(ar.selectEntities);return Object(a.useEffect)((function(){var t;c((null===(t=i[e])||void 0===t?void 0:t.services)||[])}),[i,e]),mc((function(e){return uc.selectByIds(e,r)}))}();return function(){var e=Object(ya.d)(),t=e.getFieldProps("service").value,n=Object(a.useState)(t),r=Object(l.a)(n,2),c=r[0],i=r[1],s=mc((function(e){return uc.selectById(e,t)})),o=e.getFieldProps("start").value,u=e.getFieldHelpers("end").setValue;Object(a.useEffect)((function(){s&&t!==c&&(i(t),u(Ba(_(o),F(s.duration))))}),[c,s,t,u,o])}(),Object(Sn.jsxs)(Sn.Fragment,{children:[Object(Sn.jsx)(za,{}),Object(Sn.jsx)(Da,{name:"employee",as:"select",options:n}),Object(Sn.jsx)(Da,{name:"service",as:"select",options:r}),Object(Sn.jsx)(Fa,{initialCustomer:(null===t||void 0===t?void 0:t.customer)||null}),Object(Sn.jsx)(Da,{name:"internalNotes",as:"textarea"}),Object(Sn.jsx)(Da,{placeholder:"Allow Overlapping",name:"ignoreAvailability",as:"checkbox"})]})},Ya=function(e){var t,n=e.entity,r=e.apiError,c=e.onSubmit,i=e.onCancel,s=(null===n||void 0===n?void 0:n.type)===ge.CustomerAppointment,o=s?it:st,u=s?function(e){if(!e||e.type===ge.EmployeeEvent)return{start:"",end:"",customer:0,employee:0,service:0,ignoreAvailability:!1,internalNotes:""};var t=e;return{start:e.start,end:e.end,employee:e.employee.id,internalNotes:e.internalNotes,ignoreAvailability:!1,customer:t.customer.id,service:t.service.id}}(n):(t=n)?{start:t.start,end:t.end,employee:t.employee.id,internalNotes:t.internalNotes,ignoreAvailability:!1}:{start:"",end:"",employee:0,ignoreAvailability:!1,internalNotes:""},j=Object(a.useState)(!1),d=Object(l.a)(j,2),b=d[0],O=d[1];Ca(rc);return Object(Sn.jsxs)(ka,{initialValues:u,apiError:r,onSubmit:c,onCancel:i,validationSchema:o,children:[n&&Object(Sn.jsxs)(Tn,{justify:"end",children:[Object(Sn.jsx)(Lc,{icon:"history",color:"primary",onClick:function(){O(!0)}}),Object(Sn.jsx)(va,{id:n.id,isOpen:b,onClose:function(){O(!1)}})]}),s&&Object(Sn.jsx)(Va,{appointment:n}),!s&&Object(Sn.jsxs)(Sn.Fragment,{children:[Object(Sn.jsx)(Ga,{name:"start"}),Object(Sn.jsx)(Ga,{name:"end"}),Object(Sn.jsx)(Da,{name:"internalNotes",as:"textarea"}),Object(Sn.jsx)(Da,{placeholder:"Allow Overlapping",name:"ignoreAvailability",as:"checkbox"})]})]})},Wa=function(e){var t,n=e.entity,r=e.apiError,c=e.onSubmit,a=e.onCancel,i=ga(ar,tr);return Object(Sn.jsxs)(ka,{initialValues:(t=n,t?{name:t.name,employees:t.employees}:{employees:[],name:""}),apiError:r,onSubmit:c,onCancel:a,children:[Object(Sn.jsx)(Da,{name:"name"}),Object(Sn.jsx)(Da,{name:"employees",as:"multi-select",options:i})]})},Ka=function(e){var t=e.messageId,n=void 0===t?"COMMON.SURE-DELETE":t,r=e.isOpen,c=e.onCancel,a=[{text:"confirm",color:"primary",onClick:e.onConfirm},{text:"cancel",color:"danger",onClick:c}];return Object(Sn.jsx)(xa,{body:Object(Sn.jsx)(Xt.a,{id:n}),isOpen:r,buttons:a})};function Ja(e){var t=Oc();return function(e){var t=Object(a.useState)(null),n=Object(l.a)(t,2),r=n[0],c=n[1],i=Object(Sn.jsx)(Ka,{isOpen:!!r,onConfirm:function(){e(r),c(null)},onCancel:function(){c(null)}});return[c,i]}((function(n){return t(e(n))}))}var Xa=function(){var e=Oc(),t=ga(Wn,zn),n=Object(a.useState)(0),r=Object(l.a)(n,2),c=r[0],i=r[1],s=Ja(zn.deleteEntity),o=Object(l.a)(s,2),u=o[0],j=o[1],d=Sa(Wn,zn,Wa),b=Object(l.a)(d,2),O=b[0],m=b[1];Object(a.useEffect)((function(){t&&t[c]&&e(Gn.setSelectedPanelId(t[c].id))}),[e,t,c]);return Object(Sn.jsxs)(Tn,{className:"m-2",align:"center",children:[j,m,t.map((function(n,r){return Object(Sn.jsx)(Fc,{className:c===r?"underline-accent":"",onClick:(a=r,function(){i(a),e(Gn.setSelectedPanelId(t[a].id))}),children:n.name},r);var a})),Object(Sn.jsx)(Lc,{color:"primary",icon:"plus",onClick:O(null)}),Object(Sn.jsx)(Lc,{color:"accent",icon:"edit",onClick:O(t[c])}),Object(Sn.jsx)(Lc,{color:"danger",icon:"trash",onClick:function(){u(t[c].id)}})]})},Za=function(e){var t=e.employee,n=e.onCreateClick,r=e.hour,c=e.minute,a=t.id;return Object(Sn.jsxs)(Sn.Fragment,{children:[Object(Sn.jsx)(Lc,{color:"primary",icon:"plus",onClick:n(nt(a,r,c))}),Object(Sn.jsx)(Lc,{color:"accent",icon:"lock",onClick:n(tt(a,r,c))})]})},$a=function(e){var t=e.appointment,n=e.onClick,r=T.a.utc(t.start),c=T.a.utc(t.end),a="customer"in t&&t.customer?t:null,i=T.a.duration(c.diff(r)),s=a?a.service.color:"#FFFFFF",o=a?a.customer.name:t.internalNotes,u=a?a.service.name:"",l={top:ja(r),height:ja(i),backgroundColor:s};return Object(Sn.jsxs)("div",{style:l,className:ba.a.panelEvent,onClick:n,children:[Object(Sn.jsx)("div",{children:o}),u]})},ei=function(e){var t=e.employee,n=e.onSelect,r=mc(wn.selectAll),c=i.a.useMemo((function(){return r.filter((function(e){return e.employee.id===t.id}))}),[r,t.id]);return Object(Sn.jsx)("div",{className:"position-relative",children:c.map((function(e){return Object(Sn.jsx)($a,{appointment:e,onClick:n(e)},e.id)}))})},ti=function(){var e=mc($n.selectPanelHours),t=mc($n.selectSlotSize),n={width:"5rem",minHeight:"".concat(t/2,"rem"),height:"".concat(t/2,"rem"),textAlign:"right",position:"relative",top:"-0.75rem"};return Object(Sn.jsx)(Cn,{className:"sticky-top-left bg-white-gray ".concat(ba.a.borderRight),children:e.map((function(e,t){return Object(Sn.jsxs)(i.a.Fragment,{children:[Object(Sn.jsx)("div",{style:n,children:F({hour:e,minute:0})}),Object(Sn.jsx)("div",{style:n})]},t)}))})},ni=function(e){var t=e.employee,n=e.onCreateClick,r=mc($n.selectPanelHours),c=mc($n.selectSlotSize),a={height:"".concat(c/2,"rem")};return Object(Sn.jsx)(Cn,{children:r.map((function(e,r){return Object(Sn.jsxs)(i.a.Fragment,{children:[Object(Sn.jsx)(Bc,{className:ba.a.middleItem,style:a,children:Object(Sn.jsx)(Za,{employee:t,onCreateClick:n,hour:e,minute:0})}),Object(Sn.jsx)(Bc,{className:ba.a.panelItem,style:a,children:Object(Sn.jsx)(Za,{employee:t,onCreateClick:n,hour:e,minute:30})})]},r)}))})},ri=function(e){var t=e.onSelect,n=la();return Object(Sn.jsx)(Tn,{children:Object(Sn.jsxs)(Sn.Fragment,{children:[Object(Sn.jsx)(ti,{}),n.map((function(e){return Object(Sn.jsxs)(i.a.Fragment,{children:[Object(Sn.jsx)(ei,{onSelect:t,employee:e}),Object(Sn.jsx)(ni,{onCreateClick:t,employee:e})]},e.id)}))]})})},ci=["width","height"],ai=function(e){var t=e.width,n=e.height,r=Object(xn.a)(e,ci),c={height:n?"".concat(n,"rem"):"100%",width:t?"".concat(t,"rem"):"100%",boxSizing:"content-box"};return Object(Sn.jsx)("div",Object(p.a)({style:c},r))},ii=function(e){var t=e.employee,n=e.onCreateClick;return Object(Sn.jsxs)(Cn,{className:"".concat(ba.a.panelItem," py-3"),align:"center",justify:"center",children:[t.name,Object(Sn.jsx)(_c,{className:"m-1",size:4,src:t.photoUrl},t.id),Object(Sn.jsx)(Tn,{children:Object(Sn.jsx)(Za,{employee:t,onCreateClick:n,hour:0,minute:0})})]})},si=function(e){var t=e.onCreateClick,n=la();return Object(Sn.jsxs)(Tn,{children:[Object(Sn.jsx)(ai,{className:"bg-white-gray ".concat(ba.a.panelItem),width:5}),n.map((function(e){return Object(Sn.jsx)(ii,{employee:e,onCreateClick:t},e.id)}))]})},oi=function(){Ca(tr),function(){var e=mc($n.selectSelectedPanel),t=Object(j.c)($n.selectCurrentDate),n=Oc();Object(a.useEffect)((function(){var r={from_date:N(t),to_date:N(t.clone().add(1,"day")),employees:(null===e||void 0===e?void 0:e.employees)||[]};n(In.fetchEntitiesWithSetAll(r))}),[e,t,n])}();var e=Sa(wn,In,Ya),t=Object(l.a)(e,2),n=t[0],r=t[1];return Object(Sn.jsxs)(Cn,{className:"w-100",children:[r,Object(Sn.jsxs)(Cn,{className:"sticky-top bg-white-gray",children:[Object(Sn.jsx)(Xa,{}),Object(Sn.jsx)(ua,{}),Object(Sn.jsx)(si,{onCreateClick:n})]}),Object(Sn.jsx)(Oa,{}),Object(Sn.jsx)(ri,{onSelect:n})]})},ui=n(144),li=n(416),ji=function(){return Object(Sn.jsx)(Sn.Fragment,{})};var di=function(e){var t=e.getTableBodyProps,n=e.rows,r=e.prepareRow,c=e.visibleColumns,a=e.renderRowSubComponent;return Object(Sn.jsx)("tbody",Object(p.a)(Object(p.a)({},t()),{},{children:n.map((function(e,t){return r(e),Object(Sn.jsxs)(i.a.Fragment,{children:[Object(Sn.jsx)("tr",Object(p.a)(Object(p.a)({},a?e.getToggleRowExpandedProps():e.getRowProps()),{},{children:e.cells.map((function(e){return Object(Sn.jsx)("td",Object(p.a)(Object(p.a)({style:{verticalAlign:"middle"}},e.getCellProps()),{},{children:e.render("Cell")}))}))})),a&&e.isExpanded?Object(Sn.jsx)("tr",Object(p.a)(Object(p.a)({},e.getRowProps()),{},{children:Object(Sn.jsx)("td",{colSpan:c.length,children:a(e)})})):null]},t)}))}))};var bi=function(e){var t=e.headerGroups;return Object(Sn.jsx)("thead",{children:t.map((function(e){return Object(Sn.jsx)("tr",Object(p.a)(Object(p.a)({},e.getHeaderGroupProps()),{},{children:e.headers.map((function(e){return Object(Sn.jsxs)("th",Object(p.a)(Object(p.a)({},e.getHeaderProps()),{},{children:[e.render("Header"),Object(Sn.jsx)("div",{children:e.canFilter?e.render("Filter"):null})]}))}))}))}))})},Oi=n(223),mi=n.n(Oi);var pi=function(e){var t=e.columns,n=e.data,r=e.renderRowSubComponent,c=e.hover,a=void 0!==c&&c,s=e.stripped,o=void 0!==s&&s,u=e.extraPrepare,l=i.a.useMemo((function(){return{text:function(e,t,n){return e.filter((function(e){var r=e.values[t];return void 0===r||String(r).toLowerCase().startsWith(n.toLowerCase())}))}}}),[]),j=i.a.useMemo((function(){return{Filter:ji}}),[]),d=Object(ui.useTable)({columns:t,data:n,defaultColumn:j,filterTypes:l,autoResetFilters:!1},ui.useFilters,ui.useExpanded),b=d.getTableProps,O=d.getTableBodyProps,m=d.headerGroups,f=d.rows,h=d.prepareRow,x=d.visibleColumns;return Object(Sn.jsxs)(li.a,Object(p.a)(Object(p.a)({className:mi.a.fixedHeaders,hover:a,striped:o},b()),{},{children:[Object(Sn.jsx)(bi,{headerGroups:m}),Object(Sn.jsx)(di,{getTableBodyProps:O,rows:f,prepareRow:function(e){h(e),u&&u(e)},visibleColumns:x,renderRowSubComponent:r})]}))},fi=function(e){var t=e.column,n=t.filterValue,r=t.Header,c=t.setFilter,a=e.onChangeSideEffect;return Object(Sn.jsx)(ca,{value:n||"",onChange:function(e){var t;t=e.target.value,c(t||void 0),a&&a(t)},placeholder:"Search ".concat(r)})},hi=function(e){var t=e.entities,n=e.buttonsColumn,r=e.filter,c=Object(a.useMemo)((function(){return[{Header:"Name",accessor:"name",Filter:function(e){return Object(Sn.jsx)(fi,Object(p.a)(Object(p.a)({},e),{},{onChangeSideEffect:r}))}},{Header:"Email",accessor:"email"},{Header:"Phone",accessor:"phone"},n]}),[n,r]);return Object(Sn.jsx)(pi,{columns:c,data:t,extraPrepare:function(e){e.getRowProps=function(){return{key:e.original.id,className:e.original.warning?"bg-danger":""}}}})};var xi=function(e){var t=e.type,n=e.model,r=e.onClick,c=fc(t,n),a=function(e){switch(e){case ne.add:return"plus";case ne.change:return"edit";case ne.delete:return"trash";case ne.view:return"eye"}}(t),i=function(e){switch(e){case ne.add:return"primary";case ne.change:return"accent-light";case ne.delete:return"danger";case ne.view:return"primary"}}(t);return Object(Sn.jsx)(Sn.Fragment,{children:Object(Sn.jsx)(Lc,{color:i,icon:a,onClick:r,disabled:!c})})};var Ei=function(e){var t=e.baseSelectors,n=e.baseActions,r=e.filter,c=e.modelType,i=e.EditContainer,s=e.ListContainer,o=Oc(),u=mc(t.selectAll),j=Ja(n.deleteEntity),d=Object(l.a)(j,2),b=d[0],O=d[1],m=Sa(t,n,i),p=Object(l.a)(m,2),f=p[0],h=p[1];Object(a.useEffect)((function(){o(n.initializeStore())}),[n,o]);var x={Header:function(){return Object(Sn.jsx)(Tn,{justify:"end",children:Object(Sn.jsx)(xi,{type:ne.add,model:c,onClick:f(null)})})},id:"buttons",Cell:function(e){return function(e){return Object(Sn.jsxs)(Tn,{align:"end",justify:"end",children:[Object(Sn.jsx)(xi,{type:ne.change,model:c,onClick:f(e)}),Object(Sn.jsx)(xi,{type:ne.delete,model:c,onClick:(t=e.id,function(){b(t)})})]});var t}(e.row.original)}};return Object(Sn.jsxs)(Sn.Fragment,{children:[O,h,Object(Sn.jsx)(s,{entities:u,filter:r,buttonsColumn:x})]})},vi=function(){var e=Oc();return Object(Sn.jsx)(Ei,{baseSelectors:Fn,baseActions:Dn,filter:function(t){e(Dn.fetchEntities({search:t}))},modelType:te.customer,EditContainer:Pa,ListContainer:hi})},Si=function(e){var t,n=e.entity,r=e.apiError,c=e.onSubmit,i=e.onCancel,s=Object(j.c)(Ur.selectAll),o=Object(j.c)(uc.selectServicesWithCategories),u=Oc();return Object(a.useEffect)((function(){u(Ar.initializeStore()),u(rc.initializeStore()),u(wr.initializeStore())}),[u]),Object(Sn.jsxs)(ka,{initialValues:(t=n,t?{bio:t.bio,email:t.email,firstName:t.firstName,instagram:t.instagram,lastName:t.lastName,phone:t.phone,private:t.private,schedule:t.schedule,services:t.services}:{bio:"",email:"",firstName:"",instagram:"",lastName:"",phone:"",private:!1,schedule:0,services:[]}),apiError:r,onSubmit:c,onCancel:i,validationSchema:J,children:[(null===n||void 0===n?void 0:n.photoUrl)&&Object(Sn.jsxs)(Tn,{className:"mb-2",justify:"between",align:"center",children:[Object(Sn.jsx)(Tn,{className:"flex-fill mr-2",justify:"center",align:"center",children:Object(Sn.jsx)(_c,{size:5,src:n.photoUrl})}),Object(Sn.jsxs)(Cn,{children:[Object(Sn.jsx)(Da,{name:"firstName"}),Object(Sn.jsx)(Da,{name:"lastName"})]})]}),Object(Sn.jsx)(Da,{name:"email"}),Object(Sn.jsx)(Da,{name:"phone"}),Object(Sn.jsx)(Da,{name:"instagram"}),Object(Sn.jsx)(Da,{name:"schedule",as:"select",options:s}),Object(Sn.jsx)(Da,{name:"services",as:"multi-select",options:o})]})},gi=function(e){var t=e.serviceIds,n=Oc(),r=mc((function(e){return uc.selectServicesWithCategoriesByIds(e,t)}));return Object(a.useEffect)((function(){n(rc.initializeStore()),n(wr.initializeStore())}),[n]),Object(Sn.jsx)(qc,{header:Object(Sn.jsx)(Xt.a,{id:"ADMIN.COMMON.SERVICES"}),maxWidth:500,maxHeight:30,mhUnit:"vh",hasShadow:!1,children:Object(Sn.jsx)(zc,{items:r,renderComponent:function(e){return Object(Sn.jsx)(Sn.Fragment,{children:e.name})}})})},Ci=function(e){var t=e.employee;return Object(Sn.jsx)(Tn,{children:Object(Sn.jsx)(gi,{serviceIds:t.services})})},yi=n(224),Ti=n.n(yi),_i=n(225),Ni=n.n(_i),Ai=function(e){var t=e.src,n=e.size,r=e.onSubmit,c=Object(a.useState)(!1),i=Object(l.a)(c,2),s=i[0],o=i[1],u=Object(a.useState)(null),j=Object(l.a)(u,2),d=j[0],b=j[1],O=Object(a.useState)(null),m=Object(l.a)(O,2),p=m[0],f=m[1],h={width:"".concat(n,"rem"),height:"".concat(n,"rem")},x=Object(Sn.jsx)(Ti.a,{withIcon:!0,singleImage:!0,withPreview:!0,buttonText:"Choose images",onChange:function(e,t){return e.length>0&&b(e[0])},imgExtension:[".jpg","jpeg",".png"],maxFileSize:5242880}),E=Object(Sn.jsxs)(Sn.Fragment,{children:[x,p&&Object(Sn.jsx)("div",{className:"c-danger",children:p}),Object(Sn.jsxs)(Tn,{className:"w-100",justify:"end",children:[Object(Sn.jsx)(Uc,{onClick:function(){return d&&r(d).then((function(e){e||f("server error try again later"),o(!e)}))},color:"primary",className:"mr-2",children:"Submit"}),Object(Sn.jsx)(Uc,{onClick:function(){return o(!1)},color:"danger",children:"Cancel"})]})]}),v=Object(Sn.jsx)(xa,{body:E,isOpen:s});return Object(Sn.jsxs)(Cn,{className:"position-relative",justify:"center",children:[v,Object(Sn.jsx)(_c,{src:t,size:n}),Object(Sn.jsx)(Uc,{type:"button",onClick:function(){return o(!0)},style:h,className:"".concat(Ni.a.btnOverlay," round-image"),children:"edit"})]})},Ri=function(e){var t=e.entities,n=e.buttonsColumn,r=(e.filter,Oc()),c=Object(a.useMemo)((function(){return[{Header:function(){return null},id:"expander",Cell:function(e){return Object(Sn.jsx)("span",{children:e.row.isExpanded?Object(Sn.jsx)(Nc,{icon:"caret-down"}):Object(Sn.jsx)(Nc,{icon:"caret-right"})})}},{Header:"Photo",accessor:"photoUrl",Cell:function(e){return Object(Sn.jsx)(Ai,{src:e.cell.value,onSubmit:function(t){return function(e,t){return W.uploadProfilePicture(e.id,t).then((function(t){return r(ir.upsertOne(Object(p.a)(Object(p.a)({},e),{},{photoUrl:t.url}))),!0})).catch((function(e){return!1}))}(e.row.original,t)},size:3})}},{Header:"Name",accessor:"name",Filter:fi},{Header:"Email",accessor:"email",Filter:fi},{Header:"Phone",accessor:"phone",Filter:fi},{Header:"Instagram",accessor:"instagram"},n]}),[n,r]),s=i.a.useCallback((function(e){return Object(Sn.jsx)(Ci,{employee:e.original})}),[]);return Object(Sn.jsx)(pi,{columns:c,data:t,renderRowSubComponent:s,hover:!0})},Ii=function(){return Object(Sn.jsx)(Ei,{baseSelectors:ar,baseActions:tr,modelType:te.employee,EditContainer:Si,ListContainer:Ri})},Ui=function(e){var t,n=e.entity,r=e.apiError,c=e.onSubmit,i=e.onCancel,s=Oc(),o=Object(j.c)(gr.selectAll);return Object(a.useEffect)((function(){s(Cr.initializeStore())}),[s]),Object(Sn.jsxs)(ka,{initialValues:(t=n,t?{name:t.name,permissions:t.permissions}:{name:"",permissions:[]}),apiError:r,onSubmit:c,onCancel:i,validationSchema:lr,children:[Object(Sn.jsx)(Da,{name:"name"}),Object(Sn.jsx)(Da,{name:"permissions",as:"multi-select",options:o})]})},ki=function(e){var t=e.entities,n=e.buttonsColumn,r=e.filter,c=Object(a.useMemo)((function(){return[{Header:"Name",accessor:"name",Filter:function(e){return Object(Sn.jsx)(fi,Object(p.a)(Object(p.a)({},e),{},{onChangeSideEffect:r}))}},n]}),[n,r]);return Object(Sn.jsx)(pi,{columns:c,data:t})},wi=function(){return Object(Sn.jsx)(Ei,{baseSelectors:mr,baseActions:dr,modelType:te.groupprofile,EditContainer:Ui,ListContainer:ki})},Mi=n(41),Di=function(e){var t=e.shift;return Object(Sn.jsx)(Cn,{children:t.frames.map((function(e,t){return Object(Sn.jsx)("div",{children:e.name},t)}))})},Li=function(e){var t=e.entities,n=e.buttonsColumn,r=Object(a.useMemo)((function(){return[{Header:"Name",accessor:"name",Filter:fi}].concat(Object(Mi.a)(["mon","tue","wed","thu","fri","sat","sun"].map((function(e){return{Header:e.toUpperCase(),accessor:e,Cell:function(e){return Object(Sn.jsx)(Di,{shift:e.cell.value})}}}))),[n])}),[n]);return Object(Sn.jsx)(pi,{columns:r,data:t})},Pi=n(114),Fi=n.n(Pi),Qi=function(e){var t=e.frame,n=e.onClick,r=[P(t.start),P(t.end)],c=r[0],a=r[1],i=3*+(c.hour+1+c.minute/60),s=3*(a.hour+a.minute/60-(c.hour+c.minute/60));return Object(Sn.jsx)("div",{className:"".concat(Fi.a.frameBox," bg-accent c-pointer"),onClick:n,style:{top:"".concat(i,"rem"),height:"".concat(s,"rem")}})},Hi=function(e){var t=e.name,n=Object(ya.d)(),r="".concat(t,".frames"),c=n.getFieldProps(r),i=n.getFieldHelpers(r),s=Object(a.useState)(null),o=Object(l.a)(s,2),u=o[0],j=o[1],d=Object(a.useState)(!1),b=Object(l.a)(d,2),O=b[0],m=b[1],p="mon"===t,f=Array.from(Array(24).keys()),h="".concat(Fi.a.lineCell," ").concat(p?"":Fi.a.borderLeft),x=function(e){return function(){var t={start:F({hour:e,minute:0}),end:F({hour:e+1,minute:0})},n=[].concat(Object(Mi.a)(c.value),[t]);i.setValue(n),j(n.length-1),m(!0)}},E=function(){m(!1),j(null)},v=Object(Sn.jsx)(xa,{header:Object(Sn.jsx)(Xt.a,{id:"ADMIN.SCHEDULE.EDIT-FRAME-MODAL"}),body:Object(Sn.jsx)(Sn.Fragment,{children:r&&Object(Sn.jsxs)(Sn.Fragment,{children:[Object(Sn.jsx)(Da,{placeholder:"Start",name:"".concat(r,"[").concat(u,"].start"),type:"time"}),Object(Sn.jsx)(Da,{placeholder:"End",name:"".concat(r,"[").concat(u,"].end"),type:"time"})]})}),onCancel:E,isOpen:O,buttons:[{text:"confirm",onClick:E,color:"primary"},{text:"delete",onClick:function(){var e=u;m(!1),j(null),c.value.splice(e,1)},color:"danger"}]});return Object(Sn.jsxs)(Sn.Fragment,{children:[Object(Sn.jsxs)(Cn,{className:"position-relative",align:"center",children:[Object(Sn.jsx)("div",{className:h,children:t}),c.value.map((function(e,t){return Object(Sn.jsx)(Qi,{frame:e,onClick:(n=t,function(){j(n),m(!0)})},t);var n})),f.map((function(e,t){return function(e){return Object(Sn.jsxs)(Cn,{className:"position-relative",children:[p&&Object(Sn.jsx)("div",{className:Fi.a.hourBox,children:F({hour:e,minute:0})}),Object(Sn.jsx)(Bc,{className:h,children:Object(Sn.jsx)(Lc,{color:"primary",onClick:x(e),icon:"plus-square"})})]})}(e)}))]}),v]})},Gi=function(e){var t,n=e.entity,r=e.apiError,c=e.onSubmit,a=e.onCancel;return Object(Sn.jsxs)(ka,{initialValues:(t=n,t?{name:t.name,mon:B(t.mon),tue:B(t.tue),wed:B(t.wed),thu:B(t.thu),fri:B(t.fri),sat:B(t.sat),sun:B(t.sun)}:{name:"",mon:null,tue:null,wed:null,thu:null,fri:null,sat:null,sun:null}),apiError:r,onCancel:a,onSubmit:c,children:[Object(Sn.jsx)(Da,{name:"name"}),Object(Sn.jsx)(aa.a,{children:Object(Sn.jsxs)(Tn,{align:"center",justify:"center",children:[Object(Sn.jsx)(Hi,{name:"mon"}),Object(Sn.jsx)(Hi,{name:"tue"}),Object(Sn.jsx)(Hi,{name:"wed"}),Object(Sn.jsx)(Hi,{name:"thu"}),Object(Sn.jsx)(Hi,{name:"fri"}),Object(Sn.jsx)(Hi,{name:"sat"}),Object(Sn.jsx)(Hi,{name:"sun"})]})})]})},Bi=function(){return Object(Sn.jsx)(Ei,{baseSelectors:Ur,baseActions:Ar,modelType:te.schedule,EditContainer:Gi,ListContainer:Li})},qi=function(e){var t,n=e.entity,r=e.apiError,c=e.onSubmit,a=e.onCancel;return Object(Sn.jsxs)(ka,{initialValues:(t=n,t?{name:t.name,color:t.color||""}:{name:"",color:""}),apiError:r,onSubmit:c,onCancel:a,validationSchema:Ke,children:[Object(Sn.jsx)(Da,{name:"name"}),Object(Sn.jsx)(Da,{name:"color",as:"color"})]})},zi=function(e){var t,n=e.entity,r=e.apiError,c=e.onSubmit,a=e.onCancel,i=mc(Lr.selectAll),s=Sa(Lr,wr,qi),o=Object(l.a)(s,2),u=o[0],j=o[1];return Object(Sn.jsx)(ka,{initialValues:(t=n,t?{private:t.private,category:t.category||0,color:t.color,cost:t.cost,description:t.description,duration:Q(t.duration),isFrom:!1,name:t.name}:{category:0,color:"",cost:0,description:"",duration:"",isFrom:!1,name:"",private:!1}),apiError:r,onSubmit:c,onCancel:a,validationSchema:We,children:function(e){return Object(Sn.jsxs)(Sn.Fragment,{children:[j,Object(Sn.jsxs)(Tn,{align:"center",justify:"center",children:[Object(Sn.jsx)(Da,{className:"flex-fill",name:"category",as:"select",options:i}),Object(Sn.jsx)(xi,{type:ne.change,model:te.servicecategory,onClick:u((t=e.getFieldProps("category").value,i.find((function(e){return e.id===t}))||null))}),Object(Sn.jsx)(xi,{type:ne.add,model:te.servicecategory,onClick:u(null)})]}),Object(Sn.jsx)(Da,{name:"name"}),Object(Sn.jsx)(Da,{name:"duration",as:"duration"}),Object(Sn.jsx)(Da,{name:"color",as:"color"}),Object(Sn.jsx)(Da,{name:"description"}),Object(Sn.jsx)(Da,{name:"cost",type:"number"})]});var t}})},Vi=function(e){var t={backgroundColor:e.backgroundColor,minHeight:"2em",minWidth:"5em",borderRadius:"2px"};return Object(Sn.jsx)("div",{style:t})},Yi=function(e){var t=e.column,n=t.filterValue,r=t.setFilter,c=t.preFilteredRows,a=t.id,s=e.options,o=i.a.useMemo((function(){var e=new Set;return c.forEach((function(t){e.add(t.values[a])})),Array.from(e).map((function(e){return{id:e,name:e}}))}),[a,c]),u=s||o;return Object(Sn.jsxs)(ca,{type:"select",value:n,onChange:function(e){return r((null===e||void 0===e?void 0:e.target.value)||void 0)},children:[Object(Sn.jsx)("option",{value:"",children:"All"}),u.map((function(e,t){return Object(Sn.jsx)("option",{value:e.id,children:e.name},t)}))]})},Wi=function(e){var t=e.entities,n=e.buttonsColumn,r=(e.filter,mc(Lr.selectAll)),c=mc(Lr.selectEntities),i=Oc();Object(a.useEffect)((function(){i(wr.initializeStore())}),[i]);var s=Object(a.useMemo)((function(){return[{Header:"category",accessor:"category",Filter:function(e){return Object(Sn.jsx)(Yi,Object(p.a)(Object(p.a)({},e),{},{options:r}))},Cell:function(e){var t;return Object(Sn.jsx)(Sn.Fragment,{children:null===(t=c[e.cell.value])||void 0===t?void 0:t.name})}},{Header:"Name",accessor:"name",Filter:fi},{Header:"Duration",accessor:"duration",Cell:function(e){return F(e.cell.value)}},{Header:"Color",accessor:"color",Cell:function(e){return Object(Sn.jsx)(Vi,{backgroundColor:e.cell.value})}},{Header:"Description",accessor:"description"},{Header:"Price",accessor:"price"},n]}),[n,r,c]);return Object(Sn.jsx)(pi,{columns:s,data:t})},Ki=function(){return Object(Sn.jsx)(Ei,{baseSelectors:uc,baseActions:rc,modelType:te.service,EditContainer:zi,ListContainer:Wi})},Ji=function(e){var t=e.entities,n=e.buttonsColumn,r=e.filter,c=Object(a.useMemo)((function(){return[{Header:"Name",accessor:"name",Filter:function(e){return Object(Sn.jsx)(fi,Object(p.a)(Object(p.a)({},e),{},{onChangeSideEffect:r}))}},{Header:"Email",accessor:"email"},{Header:"Phone",accessor:"phone"},n]}),[n,r]);return Object(Sn.jsx)(pi,{columns:c,data:t})},Xi=function(e){var t=e.apiError,n=e.onSubmit,r=e.onCancel;return Object(Sn.jsxs)(ka,{initialValues:{password1:"",password2:"",userPassword:""},apiError:t,onSubmit:n,onCancel:r,validationSchema:ce,children:[Object(Sn.jsx)(Da,{name:"password1",type:"password"}),Object(Sn.jsx)(Da,{name:"password2",type:"password"}),Object(Sn.jsx)(Da,{name:"userPassword",type:"password"})]})},Zi=function(e){var t=e.id,n=Object(a.useState)(!1),r=Object(l.a)(n,2),c=r[0],i=r[1],s=Object(a.useState)(null),o=Object(l.a)(s,2),u=o[0],j=o[1],d=Object(Sn.jsx)(Xi,{apiError:u,onSubmit:function(e){ee.changePassword(t,e).then((function(e){return i(!1)})).catch((function(e){console.log(e),j(e)}))},onCancel:function(){i(!1)}});return Object(Sn.jsxs)(Sn.Fragment,{children:[Object(Sn.jsx)(xa,{body:d,isOpen:c}),Object(Sn.jsx)(aa.a,{children:Object(Sn.jsx)(Ic.a,{block:!0,color:"primary",type:"button",onClick:function(){i(!0)},children:" change password"})})]})},$i=function(e){var t,n=e.entity,r=e.apiError,c=e.onSubmit,a=e.onCancel,i=ga(ar,tr),s=ga(mr,dr);return Object(Sn.jsxs)(ka,{initialValues:(t=n,t?{firstName:t.firstName,lastName:t.lastName,email:t.email,employee:t.employeeId||"",groups:t.groups}:{firstName:"",lastName:"",email:"",employee:"",groups:[]}),apiError:r,onSubmit:c,onCancel:a,validationSchema:re,children:[(null===n||void 0===n?void 0:n.id)&&Object(Sn.jsx)(Zi,{id:n.id}),Object(Sn.jsx)(Da,{name:"firstName"}),Object(Sn.jsx)(Da,{name:"lastName"}),Object(Sn.jsx)(Da,{name:"email"}),Object(Sn.jsx)(Da,{name:"groups",as:"multi-select",options:s}),Object(Sn.jsx)(Da,{name:"employee",as:"select",options:i})]})},es=function(){var e=Oc();return Object(Sn.jsx)(Ei,{baseSelectors:Gr,baseActions:Fr,filter:function(t){e(Dn.fetchEntities({search:t}))},modelType:te.user,EditContainer:$i,ListContainer:Ji})},ts=function(e){var t=e.children;return Object(Sn.jsx)("div",{className:"dashboard-content",children:t})},ns=function(e){var t=e.isOpen,n=e.name,r=e.url,c=e.icon,a=e.permissionModel,i=Ec().location.pathname,s=fc(ne.view,a);return Object(Sn.jsx)(Sn.Fragment,{children:s&&Object(Sn.jsx)("li",{className:"sidebar-list-item",children:Object(Sn.jsxs)(Zt.a,{to:r,className:"sidebar-link ".concat(i===r?" active":"text-muted"),children:[c&&Object(Sn.jsx)(Nc,{icon:c}),t&&Object(Sn.jsx)("span",{className:"sidebar-link-title",children:n})]})},n)})},rs=function(e){var t=e.links,n=e.isOpen;return Object(Sn.jsx)("div",{className:"sidebar ".concat(n?"open":"closed"," k-shadow-0 py-3"),children:Object.keys(t).map((function(e){return Object(Sn.jsxs)(i.a.Fragment,{children:[Object(Sn.jsx)("h6",{className:"sidebar-heading",children:e}),Object(Sn.jsx)("ul",{className:"list-clear",children:t[e].map((function(e,t){var r=e.name,c=e.url,a=e.icon,i=e.permissionModel;return Object(Sn.jsx)(ns,{isOpen:n,name:r,url:c,icon:a,permissionModel:i},t)}))})]},e)}))})},cs=function(e){var t=e.links,n=e.children,r=Object(j.b)();Object(a.useEffect)((function(){return r(Yt(!0)),function(){r(Yt(!1))}}),[r]);var c=Object(j.c)(Jt);return Object(Sn.jsxs)(Tn,{align:"stretch",children:[Object(Sn.jsx)(rs,{links:t,isOpen:c}),Object(Sn.jsx)(ts,{children:n})]})},as=function(){var e=Object(Xc.a)(),t={Main:[{name:e.formatMessage({id:"ADMIN.COMMON.SERVICES"}),url:dn,icon:"magic",permissionModel:te.service},{name:e.formatMessage({id:"ADMIN.COMMON.SCHEDULES"}),url:bn,icon:"calendar-alt",permissionModel:te.schedule},{name:e.formatMessage({id:"ADMIN.COMMON.EMPLOYEES"}),url:On,icon:"people-carry",permissionModel:te.employee},{name:e.formatMessage({id:"ADMIN.COMMON.CUSTOMERS"}),url:mn,icon:"address-card",permissionModel:te.customer},{name:e.formatMessage({id:"ADMIN.COMMON.APPOINTMENTS"}),url:hn,icon:"address-book",permissionModel:te.appointment}],Manage:[{name:e.formatMessage({id:"ADMIN.COMMON.USERS"}),url:pn,icon:"users",permissionModel:te.user},{name:e.formatMessage({id:"ADMIN.COMMON.PERMISSION-GROUPS"}),url:fn,icon:"users-slash",permissionModel:te.groupprofile}]};return Object(Sn.jsx)(Sn.Fragment,{children:t&&Object(Sn.jsx)(cs,{links:t,children:Object(Sn.jsxs)(En.d,{children:[Object(Sn.jsx)(vc,{permissionModel:te.service,path:dn,component:Ki}),Object(Sn.jsx)(vc,{permissionModel:te.employee,path:On,component:Ii}),Object(Sn.jsx)(vc,{permissionModel:te.customer,path:mn,component:vi}),Object(Sn.jsx)(vc,{permissionModel:te.schedule,path:bn,component:Bi}),Object(Sn.jsx)(vc,{permissionModel:te.user,path:pn,component:es}),Object(Sn.jsx)(vc,{permissionModel:te.groupprofile,path:fn,component:wi}),Object(Sn.jsx)(vc,{permissionModel:te.appointment,path:hn,component:oi}),Object(Sn.jsx)(vc,{permissionModel:te.service,path:jn,component:Ki})]})})})},is=n(164),ss=function(e){var t=e.company;return Object(Sn.jsxs)(Tn,{align:"center",children:[Object(Sn.jsx)(_c,{src:t.avatar}),Object(Sn.jsxs)("div",{className:"ml-2",children:[Object(Sn.jsx)("h3",{className:"pb-0 c-pointer",children:t.name}),Object(Sn.jsx)("div",{className:"c-accent",children:t.address})]})]})},os=function(e){var t=e.appointment;return Object(Sn.jsxs)(Tn,{className:"flex-fill",align:"center",children:[Object(Sn.jsx)(_c,{size:4,src:t.employee.photoUrl}),Object(Sn.jsxs)(Cn,{className:"pl-2 flex-fill",children:[Object(Sn.jsxs)(Tn,{justify:"between",children:[Object(Sn.jsxs)("span",{children:[Object(Sn.jsx)(Nc,{icon:"calendar"}),_(t.start).format("DD - MMMM")]}),Object(Sn.jsxs)("span",{children:[Object(Sn.jsx)(Nc,{icon:"clock-o"}),_(t.start).format("HH:mm - "),_(t.end).format("HH:mm")]})]}),Object(Sn.jsx)("div",{children:t.employee.name}),Object(Sn.jsxs)(Tn,{children:[t.service.name,Object(Sn.jsx)("span",{className:"flex-fill c-primary text-right",children:t.service.price})]})]})]})},us=function(e){var t=e.appointment,n=e.closeClick,r=t&&Object(Sn.jsxs)(Sn.Fragment,{children:[Object(Sn.jsx)(ss,{company:t.owner}),Object(Sn.jsx)(os,{appointment:t}),Object(Sn.jsx)("div",{className:"c-primary text-right",children:Object(Sn.jsx)(Xt.a,{id:"APPOINTMENT.STATUS.".concat(t.status)})})]});return Object(Sn.jsx)(Sn.Fragment,{children:Object(Sn.jsx)(xa,{isOpen:!!t,backdrop:!0,header:r,body:Object(Sn.jsx)("p",{children:null===t||void 0===t?void 0:t.owner.config.postBookMessage}),onCancel:n,buttons:[{color:"primary",text:"close",onClick:n}]})})},ls=function(){var e,t=null===(e=Object(j.c)(Wr))||void 0===e?void 0:e.map((function(e){return Object(p.a)(Object(p.a)({},e),{},{title:e.companyName})})),n=Object(j.c)(Xr),r=Object(j.b)(),c=function(e){var t=_(e);return t.isValid()?t:_(void 0)}(xc().date);Object(a.useEffect)((function(){r(Br({start:c.clone().startOf("month"),end:c.clone().endOf("month")}))}),[r,c]);return Object(Sn.jsxs)(Gc,{children:[Object(Sn.jsx)(qc,{children:Object(Sn.jsx)(is.a,{date:c.toDate(),localizer:Object(is.b)(T.a),events:t||[],startAccessor:"start",endAccessor:"end",style:{height:500},onRangeChange:function(e){var t=Array.isArray(e)?{start:_(e[0]),end:_(e[e.length-1])}:{start:_(e.start),end:_(e.end)};r(Br(t))},onSelectEvent:function(e){return r(zr(e))}})}),Object(Sn.jsx)(us,{appointment:n,closeClick:function(){return r(zr(null))}})]})},js=function(){return Object(Sn.jsx)(En.d,{children:Object(Sn.jsx)(En.b,{path:Tc(),component:ls})})},ds=function(){var e=Object(j.b)();return Object(a.useEffect)((function(){ae.logout().then((function(){e(O(null))}))}),[e]),Object(Sn.jsx)(Gc,{children:Object(Sn.jsx)(Tn,{align:"center",justify:"center",children:Object(Sn.jsx)(qc,{maxWidth:400,children:Object(Sn.jsx)(Xt.a,{id:"AUTH.LOGOUT-SUCCESS"})})})})},bs=K.e().shape({email:K.g().email("Invalid email").required("Required")}),Os=K.e().shape({email:K.g().email("Invalid email").required("Required"),password1:K.g().min(2,"Too Short!").max(70,"Too Long!").required("Required"),password2:K.g().required().oneOf([K.f("password1"),null],"Passwords must match")}),ms=["returnUrl"],ps=function(){var e=Object(j.c)(he),t=Ec(),n=xc(),r=n.returnUrl,c=Object(xn.a)(n,ms);if(e){var a=r||"/";t.push(a,c)}},fs=function(e){var t=e.data,n=e.onSubmit,r=e.apiError,c=e.validationSchema;return Object(Sn.jsx)(ka,{initialValues:t,apiError:r,onSubmit:n,validationSchema:c,children:Object(Sn.jsxs)(Sn.Fragment,{children:[Object(Sn.jsx)(Da,{name:"email",type:"email"}),Object(Sn.jsx)(Da,{name:"password",type:"password"}),Object(Sn.jsx)(Ia,{text:Object(Sn.jsx)(Xt.a,{id:"AUTH.LOGIN"}),isBlock:!0})]})})},hs=function(){ps();var e=Object(j.b)(),t=Object(j.c)(xe);return Object(Sn.jsx)(Gc,{children:Object(Sn.jsx)(Cn,{align:"center",children:Object(Sn.jsx)(qc,{maxWidth:400,header:Object(Sn.jsx)(Xt.a,{id:"AUTH.LOGIN-HEADER"}),children:Object(Sn.jsx)(Sn.Fragment,{children:Object(Sn.jsx)(fs,{onSubmit:function(t){var n;e((n=t,Object(b.action)(r.LOGIN_REQUEST,n)))},data:{email:"",password:""},apiError:t,validationSchema:bs})})})})})},xs=function(){ps();var e=Object(j.c)(xe),t=Oc();return Object(Sn.jsx)(Gc,{children:Object(Sn.jsx)(Cn,{align:"center",children:Object(Sn.jsx)(qc,{maxWidth:400,header:Object(Sn.jsx)(Xt.a,{id:"AUTH.REGISTER-HEADER"}),children:Object(Sn.jsxs)(ka,{initialValues:{email:"",firstName:"",lastName:"",password1:"",password2:""},apiError:e,onSubmit:function(e){var n;t((n=e,Object(b.action)(r.REGISTER_REQUEST,n)))},validationSchema:Os,children:[Object(Sn.jsx)(Da,{name:"firstName"}),Object(Sn.jsx)(Da,{name:"lastName"}),Object(Sn.jsx)(Da,{type:"email",name:"email"}),Object(Sn.jsx)(Da,{type:"password",name:"password1",placeholder:"password"}),Object(Sn.jsx)(Da,{type:"password",name:"password2",placeholder:"confirm password"}),Object(Sn.jsx)(Ia,{text:Object(Sn.jsx)(Xt.a,{id:"AUTH.REGISTER"}),isBlock:!0})]})})})})},Es=function(){return Object(Sn.jsxs)(En.d,{children:[Object(Sn.jsx)(En.b,{path:Vt.LOGIN,children:Object(Sn.jsx)(hs,{})}),Object(Sn.jsx)(En.b,{path:Vt.REGISTER,children:Object(Sn.jsx)(xs,{})}),Object(Sn.jsx)(En.b,{path:Vt.LOGOUT,children:Object(Sn.jsx)(ds,{})})]})},vs=function(){return Object(Sn.jsx)(Es,{})},Ss=function(){var e=xc(),t=e.service,n=e.start,r=e.employee,c=Object(j.c)(Re),i=Object(j.b)();return Object(a.useEffect)((function(){if(c){var e={start:n,service:+t};r&&(e.employee=+r),i(function(e){return Object(b.action)(pe.BOOK_SLOT_REQUEST,e)}(e))}}),[c,i,r,t,n]),Object(Sn.jsx)(Sn.Fragment,{children:c&&Object(Sn.jsx)(En.a,{to:gc(c).cart})})},gs=function(e){var t=e.company,n=e.request,r=e.proceedToCheckoutClick,c=Object(Xc.a)(),i=Object(a.useState)(n.customerNotes||""),s=Object(l.a)(i,2),o=s[0],u=s[1];return Object(Sn.jsxs)(qc,{children:[Object(Sn.jsx)(ss,{company:t}),Object(Sn.jsx)("p",{children:t.config.preBookWarn}),Object(Sn.jsx)(ca,{className:"mb-2",type:"textarea",value:o,onChange:function(e){return u(e.target.value)},placeholder:c.formatMessage({id:"COMPANY.ADD-NOTES"})}),Object(Sn.jsx)("button",{className:"btn btn-primary btn-block",onClick:function(){return r(o)},children:Object(Sn.jsx)(Xt.a,{id:"COMPANY.PROCEED-CHECKOUT"})})]})},Cs=function(e){var t=e.request,n=e.showDelete,r=void 0===n||n,c=e.deleteClick,a=void 0===c?function(){}:c,i=!t||t&&0===t.itemsCount;return Object(Sn.jsxs)(Cn,{children:[t.items.map((function(e,t){return Object(Sn.jsxs)(Tn,{align:"center",children:[Object(Sn.jsx)(_c,{className:"mr-4",src:e.employee.photoUrl}),Object(Sn.jsxs)(Cn,{className:"w-100",children:[Object(Sn.jsx)("h4",{className:"border-bottom border-dark",children:e.employee.name}),e.appointments.map((function(e,t){return Object(Sn.jsxs)(Tn,{className:"m-2",justify:"between",children:[Object(Sn.jsxs)(Cn,{children:[Object(Sn.jsx)("h6",{children:e.service.name}),_(e.start).format("DD/MM/YYYY - HH:mm"),"(duration: ",e.service.duration.minute,")"]}),Object(Sn.jsxs)(Cn,{className:"text-right",children:[Object(Sn.jsx)("h6",{className:"c-primary",children:e.service.price}),r&&Object(Sn.jsx)("button",{className:"btn btn-sm btn-outline-danger",onClick:function(){return a(e.id)},children:Object(Sn.jsx)("i",{className:"fa fa-trash"})})]})]},t)}))]})]},t)})),Object(Sn.jsxs)("div",{className:"text-right font-weight-bold m-2 c-primary",children:["Total: ",t.total.toFixed(2)]}),i&&Object(Sn.jsx)(Xt.a,{id:"COMPANY.EMPTY-CART"})]})},ys=function(e){var t=e.size,n=void 0===t?12:t,r=e.smSize,c=e.mdSize,a=e.lgSize,i=e.xlSize,s=e.children,o="col-sm-".concat(r||n," col-md-").concat(c||n," col-lg-").concat(a||n," col-xl-").concat(i||n);return Object(Sn.jsx)("div",{className:"row",children:s&&s.map((function(e,t){return Object(Sn.jsx)("div",{className:o,children:e},t)}))})},Ts=function(){var e=Object(j.c)(we),t=Object(j.c)(Re),n=Object(j.c)(Qe),r=Object(j.b)(),c=Object(En.g)();return Object(Sn.jsx)(Gc,{children:t&&e&&Object(Sn.jsxs)(Sn.Fragment,{children:[n&&Object(Sn.jsx)(En.a,{to:gc(t).index}),Object(Sn.jsxs)(ys,{size:6,smSize:12,children:[Object(Sn.jsx)(qc,{children:Object(Sn.jsx)(Cs,{request:e,deleteClick:function(e){return r(function(e){return Object(b.action)(pe.DELETE_APPOINTMENT_REQUEST,e)}(e))}})}),Object(Sn.jsx)(gs,{company:t,request:e,proceedToCheckoutClick:function(n){t&&e&&(r(function(e){return Object(b.action)(pe.ADD_NOTES_REQUEST,e)}({id:e.id,notes:n})),c.push(gc(t).checkout))}})]})]})})},_s=function(e){return w.put("billing/"+"payment/".concat(e,"/")).then((function(e){return e.data}))},Ns=function(e){var t=e.stripeSecret,n=e.price,r=e.onSuccess,i=Object(c.useStripe)(),s=Object(c.useElements)(),o=Object(a.useState)(void 0),u=Object(l.a)(o,2),j=u[0],d=u[1],b=Object(a.useState)(!1),O=Object(l.a)(b,2),m=O[0],p=O[1],f=function(e){d(e),p(!1)};return Object(Sn.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),i&&s){var n=s.getElement(c.CardElement);p(!0),d(void 0),i.confirmCardPayment(t,{payment_method:{card:n}}).then((function(e){var t=e.paymentIntent,n=e.error;n&&f(n.message),t&&("succeeded"===t.status?r():f("something went wrong with your payment please try again later"))}))}},children:[Object(Sn.jsx)(Aa,{message:j}),Object(Sn.jsx)(aa.a,{children:Object(Sn.jsx)(c.CardElement,{className:"form-control",options:{style:{base:{fontSize:"1rem",color:"#424770","::placeholder":{color:"#aab7c4"}},invalid:{color:"#9e2146"}}}})}),Object(Sn.jsx)(Uc,{block:!0,color:"primary",disabled:!i&&m,children:m?Object(Sn.jsx)(Xt.a,{id:"COMMON.FORM.PROCESSING"}):Object(Sn.jsxs)(Sn.Fragment,{children:[Object(Sn.jsx)(Xt.a,{id:"PAYMENTS.PAY"})," ",Object(Sn.jsx)(Na,{value:n})]})})]})},As=function(e){var t=e.isOpen,n=e.price,r=e.stripeSecret,c=e.onSuccess,a=e.cancelClick;return Object(Sn.jsx)(xa,{header:Object(Sn.jsx)(Xt.a,{id:"PAYMENTS.HEADER"}),body:Object(Sn.jsx)(Ns,{stripeSecret:r,price:n,onSuccess:c}),onCancel:a,isOpen:t})},Rs=function(){var e,t=Object(j.c)(Re),n=Object(j.c)(we),r=Object(j.c)(Qe),c=Object(a.useState)(!1),i=Object(l.a)(c,2),s=i[0],o=i[1],u=Object(a.useState)(""),d=Object(l.a)(u,2),O=d[0],m=d[1],p=Object(j.b)(),f=Ec(),h=function(e){return function(){var t;p((t=e.id,Object(b.action)(pe.CONFIRM_CART_REQUEST,t))),f.push(Tc(e.scheduledDate))}};return Object(Sn.jsx)(Gc,{children:t&&n&&Object(Sn.jsxs)(Sn.Fragment,{children:[r&&Object(Sn.jsx)(En.a,{to:gc(t).index}),Object(Sn.jsx)(qc,{children:Object(Sn.jsxs)(Sn.Fragment,{children:[Object(Sn.jsx)(ss,{company:t}),Object(Sn.jsx)(gn,{}),Object(Sn.jsx)(Cs,{request:n,showDelete:!1}),Object(Sn.jsx)(gn,{}),Object(Sn.jsx)("h4",{children:Object(Sn.jsx)(Xt.a,{id:"COMPANY.NOTES"})}),n.customerNotes,Object(Sn.jsx)(gn,{}),Object(Sn.jsxs)(Sn.Fragment,{children:[t.config.canReceiveCardPayments&&Object(Sn.jsx)("button",{onClick:(e=n.id,function(){_s(e).then((function(e){m(e.clientSecret),o(!s)}))}),className:"btn btn-primary mr-2",children:Object(Sn.jsx)(Xt.a,{id:"COMPANY.PAY-CARD"})}),t.config.canReceiveUnpaidRequest&&Object(Sn.jsx)("button",{className:"btn btn-accent",onClick:h(n),children:Object(Sn.jsx)(Xt.a,{id:"COMPANY.PAY-CASH"})})]})]})}),Object(Sn.jsx)(As,{price:n.total,stripeSecret:O,isOpen:s,onSuccess:h(n),cancelClick:function(){return o(!1)}})]})})},Is=function(e){var t=e.service,n=e.onClick;return Object(Sn.jsx)("div",{className:"c-pointer mb-4",style:{borderBottom:"1px solid #A1A1A1"},onClick:function(){return n(t.id)},children:Object(Sn.jsxs)(Tn,{children:[Object(Sn.jsx)(_n,{basisPercent:50,children:Object(Sn.jsx)("div",{className:"h6",children:t.name})}),Object(Sn.jsxs)(_n,{children:[Object(Sn.jsx)("div",{className:"c-primary text-right",children:t.price}),Object(Sn.jsxs)("div",{className:"tiny light-grey text-right",children:["ETA: ",F(t.duration)]})]})]})})},Us=function(e){var t=e.services,n=e.categories,r=e.serviceClick;return Object(Sn.jsx)(qc,{children:Object(Sn.jsxs)(Tn,{children:[(null===n||void 0===n?void 0:n.length)>1&&Object(Sn.jsx)(_n,{children:n.map((function(e,t){return Object(Sn.jsx)("div",{children:e.name},t)}))}),Object(Sn.jsx)(_n,{grow:4,children:Object(Sn.jsx)(ys,{size:xt.isMobile?12:6,children:null===t||void 0===t?void 0:t.map((function(e,t){return Object(Sn.jsx)(Is,{onClick:r,service:e},t)}))})})]})})},ks=function(e){var t=e.company,n=e.serviceClick;return Object(Sn.jsxs)(Gc,{children:[Object(Sn.jsx)(ss,{company:t}),Object(Sn.jsx)(Us,{services:t.services,categories:t.serviceCategories,serviceClick:n})]})},ws=function(){var e=Object(j.c)(ke),t=Object(j.b)();return Object(Sn.jsxs)(Tn,{flexWrap:xt.isMobile,children:[Object(Sn.jsx)(Ic.a,{color:"accent",onClick:function(){return t(Object(b.action)(pe.SELECTED_DATE_TODAY))},children:"Today"}),Object(Sn.jsx)(Ic.a,{color:"accent-dark",onClick:function(){return t(Object(b.action)(pe.SELECTED_DATE_SUBTRACT_ONE))},children:Object(Sn.jsx)("i",{className:"fa fa-chevron-left"})}),Object(Sn.jsx)(Ic.a,{color:"accent-dark",onClick:function(){return t(Object(b.action)(pe.SELECTED_DATE_ADD_ONE))},children:Object(Sn.jsx)("i",{className:"fa fa-chevron-right"})}),Object(Sn.jsx)(na,{value:e,onChange:function(e){return t(Te(e))}})]})},Ms=function(e){var t=e.slot,n=e.isSelected,r=e.onClick,c="slot-button bs-primary m-1";return n&&(c+=" no-border bg-primary-gradient"),Object(Sn.jsxs)("div",{className:c,onClick:function(){return r()},children:[Object(Sn.jsx)("div",{children:t.title}),Object(Sn.jsx)("div",{hidden:!n,children:"Book Now"})]})},Ds=function(e){var t=e.isEmpty,n=e.slots,r=e.selectedSlotId,c=e.onClick,a=function(e){return e.map((function(e){return Object(Sn.jsx)(Ms,{slot:e,isSelected:e.id===r,onClick:function(){return c(e)}},e.id)}))};return Object(Sn.jsxs)(Tn,{justify:xt.isMobile?"center":"between",children:[n&&Object.keys(n).map((function(e){return Object(Sn.jsxs)(Cn,{className:"text-center",children:[Object(Sn.jsx)("h5",{children:_(e).format("ddd DD/MM/YYYY")}),a(n[e])]},e)})),t&&Object(Sn.jsx)(Xt.a,{id:"COMPANY.NO-SLOTS"})]})},Ls=function(){var e=Object(j.c)(Re),t=Object(j.c)(Me),n=Object(j.c)(Ie),r=Object(j.c)(Ue),c=Object(j.b)(),a=Ec(),i=!n||0===Object.keys(n).length;return Object(Sn.jsx)(Sn.Fragment,{children:Object(Sn.jsx)(Ds,{isEmpty:i,slots:n,selectedSlotId:r,onClick:function(n){var i;t&&(n.id===r?e&&a.push(gc(e).book({start:N(n.start),service:+t})):c((i=n.id,Object(b.action)(pe.SET_SELECTED_SLOT_ID,i))))}})})},Ps=function(e){var t=e.service,n=e.onCancel;return Object(Sn.jsx)(xa,{isOpen:!!t,header:Object(Sn.jsx)(ws,{}),body:Object(Sn.jsx)(Ls,{}),onCancel:n})},Fs=function(){var e=Object(j.b)(),t=Object(j.c)(Re),n=Object(j.c)(Le),r=function(t){e(function(e){return Object(b.action)(pe.SET_SELECTED_SERVICE_ID,e)}(t))};return Object(Sn.jsxs)(Sn.Fragment,{children:[t&&Object(Sn.jsx)(ks,{company:t,serviceClick:r}),Object(Sn.jsx)(Ps,{service:n,onCancel:function(){return r(null)}})]})},Qs=function(){var e=Object(En.j)().path,t=Object(En.i)().name,n=Object(j.c)(Re),r=Object(j.b)();return Object(a.useEffect)((function(){var e;(null===n||void 0===n?void 0:n.name)!==t&&r((e=t,Object(b.action)(pe.COMPANY_DETAILS_REQUEST,e)))}),[r,t,n]),Object(Sn.jsxs)(En.d,{children:[Object(Sn.jsx)(vc,{path:"".concat(e,"/book"),component:Ss}),Object(Sn.jsx)(vc,{path:"".concat(e,"/cart"),component:Ts}),Object(Sn.jsx)(vc,{path:"".concat(e,"/checkout"),component:Rs}),Object(Sn.jsx)(En.b,{path:"".concat(e,"/"),component:Fs})]})},Hs=function(){var e=Object(En.j)().path;return Object(Sn.jsx)(En.d,{children:Object(Sn.jsx)(En.b,{path:"".concat(e,"/:name"),children:Object(Sn.jsx)(Qs,{})})})},Gs=function(e){var t=e.values,n=e.onChange;return Object(Sn.jsx)(Gc,{children:Object(Sn.jsx)(Tn,{justify:"center",children:Object(Sn.jsx)("div",{style:{width:"400px"},className:"company-shadow-1",children:Object(Sn.jsx)(La.a,{cacheOptions:!0,defaultOptions:!0,backspaceRemovesValue:!0,getOptionValue:function(e){return e.name},getOptionLabel:function(e){return e.name},onChange:function(e,t){return n(e)},loadOptions:t})})})})},Bs=function(){var e=Object(En.g)(),t=Object(j.c)(Ae),n=Object(j.c)(Re);Object(a.useEffect)((function(){n&&t&&e.push("/c/".concat(n.name)),t&&!n&&pt.detail(t).then((function(t){return e.push("/c/".concat(t.name))}))}),[n,e,t]);return Object(Sn.jsx)(Sn.Fragment,{children:!t&&Object(Sn.jsx)(Gs,{values:function(e){return pt.get({search:e}).then((function(e){return e.results}))},onChange:function(t){t&&e.push("/c/".concat(t.name))}})})},qs=function(){return Object(Sn.jsxs)(En.d,{children:[Object(Sn.jsx)(En.b,{path:Vt.ROOT,component:vs}),Object(Sn.jsx)(En.b,{path:"/c",component:Hs}),Object(Sn.jsx)(vc,{path:yc,component:js}),Object(Sn.jsx)(vc,{path:jn,component:as}),Object(Sn.jsx)(vc,{path:Cc,component:Jc}),Object(Sn.jsx)(En.b,{path:"/",component:Bs})]})},zs=n(417);function Vs(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Object.keys(e).reduce((function(n,r){var c=e[r],a=t?"".concat(t,".").concat(r):r;return"string"==typeof c?n[a]=c:Object.assign(n,Vs(c,a)),n}),{})}var Ys=function(e){var t=e.language,r=e.children,c=Object(a.useState)({}),i=Object(l.a)(c,2),s=i[0],o=i[1];return Object(a.useEffect)((function(){n.e(4).then(n.t.bind(null,422,3)).then((function(e){var t=Vs(e.default);o(t)}))}),[t]),Object(Sn.jsx)(zs.a,{messages:s,locale:"en",defaultLocale:"en",children:r})};var Ws=function(){return Object(Sn.jsxs)(Ys,{language:"en",children:[Object(Sn.jsx)(Rc,{}),Object(Sn.jsx)(qs,{})]})},Ks=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,423)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),r(e),c(e),a(e),i(e)}))},Js=n(45),Xs=Object(Js.a)();Xs.listen((function(e){setTimeout((function(){if("POP"!==e.action){var t=window.location.hash;if(t){var n=document.getElementById(t);n&&n.scrollIntoView({block:"start",behavior:"smooth"})}else window.scrollTo(0,0)}}))}));var Zs=Xs;k.defaults.baseURL="https://api.kalendario.ie/api/",function(e){var t=function(){var t=Object(U.a)(g.a.mark((function t(n){var r,c,a,i,s,o,u,l;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=n.response,c=r.status,a=r.headers,i=r.config,s=r.data,401!==c){t.next=8;break}if("auth/token/refresh/"!==i.url){t.next=5;break}return x(),t.abrupt("return",Promise.reject(n));case 5:if(i._retry){t.next=8;break}return i._retry=!0,t.abrupt("return",ae.refreshAccessToken(e).then((function(t){if(t)return e.defaults.headers.common.Authorization="Bearer ".concat(t),e(i)})));case 8:if(422!==c){t.next=10;break}return t.abrupt("return",Promise.reject({status:c,detail:s.detail}));case 10:if(!(o=a.applicationError)){t.next=13;break}return t.abrupt("return",Promise.reject(o));case 13:if(u="",s&&"object"===typeof s)for(l in Object.keys(s))s[l]&&("message"!==l&&"detail"!==l&&(u+="".concat(l,":")),u+="".concat(s[l],"\n"));return t.abrupt("return",Promise.reject(u||s||"Server Error"));case 16:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();e.interceptors.request.use((function(e){var t=h();return t&&(e.headers.Authorization="Bearer ".concat(t)),e}),(function(e){return Promise.reject(e)})),e.interceptors.response.use((function(e){return e}),t)}(k);var $s=Object(u.a)("pk_live_51HG6eSAe2CG5hLhgoU99pYnvVQWWM3sX7WleC8CyEg3BxaADbqIEziaaPL4KMUj2mrEQ4URAz4XaRBpO8SZBi1NJ004iX5nM4N");o.a.render(Object(Sn.jsx)(i.a.StrictMode,{children:Object(Sn.jsx)(En.c,{history:Zs,children:Object(Sn.jsx)(j.a,{store:bc,children:Object(Sn.jsx)(pc,{children:Object(Sn.jsx)(c.Elements,{stripe:$s,children:Object(Sn.jsx)(Ws,{})})})})})}),document.getElementById("root")),Ks()},57:function(e,t,n){e.exports={panelItem:"employee-panel_panelItem__2xHbQ",middleItem:"employee-panel_middleItem__1Wksg",borderRight:"employee-panel_borderRight__26aL1",panelEvent:"employee-panel_panelEvent__3i_w_",currentTimeLine:"employee-panel_currentTimeLine__3AW-1"}}},[[391,1,2]]]);
//# sourceMappingURL=main.79fc8069.chunk.js.map